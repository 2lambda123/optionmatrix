<!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><i><font color="#9A1900">#                                               -*- Autoconf -*-</font></i>
<i><font color="#9A1900"># Process this file with autoconf to produce a configure script.</font></i>

AC_PREREQ([2.65])
AC_INIT([OptionMatrix], [1.4.2], [info@anthonybradford.com], [optionmatrix],[http://AnthonyBradford.com] )
AM_INIT_AUTOMAKE([1.9 tar-ustar])
AC_CONFIG_SRCDIR([src/gtk/gtk_scale.cpp])
AC_CONFIG_HEADERS([config.h])

<i><font color="#9A1900"># Checks for programs.</font></i>
AC_PROG_CC
AC_PROG_CXX
AM_PROG_CC_C_O
AC_PROG_INSTALL
AC_PROG_MAKE_SET
AC_PROG_RANLIB
<i><font color="#9A1900"># Variable MAKEINFO is defined automatically, use MAKEINFO_INSTALLED...</font></i>
AC_PATH_PROG([MAKEINFO_INSTALLED], makeinfo)
AC_PATH_PROG([TEXI2ANY], texi2any)
AC_PATH_PROG([DBTOEPUB], dbtoepub)
AC_PATH_PROG([DBLATEX], dblatex)
AC_PATH_PROG([ASPELL], aspell)
AC_PATH_PROG([DICTION], diction)
AC_PATH_PROG([STYLE], style)
AC_PATH_PROG([LINKCHECKER], linkchecker)
AC_PATH_PROG([A2X], a2x)
AC_PATH_PROG([XMLTO], xmlto)
AC_PATH_PROG([MOGRIFY], mogrify)
AC_PATH_PROG([SOURCEHIGHLIGHT], source-highlight)
AC_PATH_PROG([ZIP], zip)

<i><font color="#9A1900"># check for m...</font></i>
AC_CHECK_LIB([m], [pow])

<i><font color="#9A1900"># check for gtk...</font></i>
AC_MSG_CHECKING(for gtk)
without_curses=true
without_gtk3=true
without_gtk2=true
AM_PATH_GTK_3_0(3.0.0,without_gtk3=false,)
if test $without_gtk3 = true
then
  AM_PATH_GTK_2_0(2.6.0,
  [ 
    AC_MSG_CHECKING(for Gtk2.0 libraries)
    AC_CHECK_LIB([gtk-x11-2.0], [gtk_main])
    without_gtk2=false
  ],AC_MSG_WARN(Cannot find GTK: Is pkg-config in path?))
else
  AC_MSG_CHECKING(for Gtk3.0 libraries)
  AC_CHECK_LIB([gtk-3], [gtk_main])
  CFLAGS=<font color="#FF0000">"$CFLAGS -DGTK_DISABLE_SINGLE_INCLUDES -DGDK_DISABLE_DEPRECATED -DGTK_DISABLE_DEPRECATED -DGSEAL_ENABLE"</font>
  without_gtk3=false
fi

CFLAGS=<font color="#FF0000">"$CFLAGS $GTK_CFLAGS"</font>
CPPFLAGS=<font color="#FF0000">"$CPPFLAGS $GTK_CFLAGS"</font>
LIBS=<font color="#FF0000">"$LIBS $GTK_LIBS"</font>

AC_LANG([C++])

AC_CHECK_LIB([curses], [initscr], [
                                      CPPFLAGS=<font color="#FF0000">"$CPPFLAGS -I/curses"</font>
                                      LIBS=<font color="#FF0000">"$LIBS -lcurses"</font>
                                      without_curses=false
                              ] , [  
                                      AC_CHECK_LIB([ncurses], [initscr], [
      			      	      CPPFLAGS=<font color="#FF0000">"$CPPFLAGS -I/ncurses"</font>
				      LIBS=<font color="#FF0000">"$LIBS -lncurses"</font>
                                      without_curses=false
       			      ], [
                                      AC_CHECK_LIB([pdcurses], [initscr], [
                                      CPPFLAGS=<font color="#FF0000">"$CPPFLAGS -I/pdcurses"</font>  
                                      LIBS=<font color="#FF0000">"$LIBS -lpdcurses"</font>
                                      without_curses=false
	      		      ] , [
                                      AC_MSG_WARN([Cannot find curses])
                    	      ])
      ])
])

AC_CHECK_LIB([pthread],[main])
AC_CHECK_LIB([gslcblas],[cblas_dgemm], [
		      financialrecipes_LIBS=<font color="#FF0000">"-lgslcblas"</font>
                      AC_CHECK_HEADERS([gsl/gsl_cblas.h])
])
<i><font color="#9A1900">#AC_CHECK_LIB([gsl],[gsl_blas_dgemm])</font></i>
AC_CHECK_LIB([gsl],[main])

AC_CHECK_LIB([newmat],[main], [
                      CPPFLAGS=<font color="#FF0000">"$CPPFLAGS -I/newmat"</font>
		      LIBS=<font color="#FF0000">"$LIBS -lnewmat"</font>
                      AC_CHECK_HEADERS([newmat/newmat.h])
])

AC_CHECK_LIB([itpp],[main], [
                      CPPFLAGS=<font color="#FF0000">"$CPPFLAGS -I/itpp"</font>
		      LIBS=<font color="#FF0000">"$LIBS -litpp"</font>
                      AC_CHECK_HEADERS([itpp/itbase.h])
])

<i><font color="#9A1900"># Checks for header files.</font></i>
AC_CHECK_HEADERS([curses.h ncurses.h pdcurses.h])
AC_CHECK_HEADERS([ncurses/ncurses.h ncurses/curses.h pdcurses/pdcurses.h pdcurses/curses.h ])
AC_CHECK_HEADERS([float.h locale.h stddef.h stdlib.h string.h strings.h unistd.h getopt.h pthread.h sys/time.h math.h gsl/gsl_errno.h])
<i><font color="#9A1900"># Checks for typedefs, structures, and compiler characteristics.</font></i>
AC_HEADER_STDBOOL
AC_C_INLINE
AC_TYPE_SIZE_T

<i><font color="#9A1900"># Checks for library functions.</font></i>
AC_FUNC_MALLOC
AC_CHECK_FUNCS([atexit gettimeofday localeconv memset modf pow setlocale sqrt strstr])

if test $cross_compiling = no; then
  AM_MISSING_PROG(HELP2MAN, help2man)
else
  HELP2MAN=:
fi

AC_CONFIG_FILES([Makefile
                 src/models/financialrecipes/src/Makefile
		 src/models/financialrecipes/examples/Makefile
                 src/models/metaoptions/src/Makefile
                 src/models/metaoptions/tests/Makefile
		 src/common/Makefile
		 src/curses/Makefile
		 src/gtk/Makefile
                 man/Makefile
                 doc/Makefile
                 doc/html/Makefile])
		 
AC_OUTPUT

AC_MSG_NOTICE([
------------------------------------------------------------------------------
Now type 'make ; sudo make install' to build and install $PACKAGE-$VERSION
See file README for more information.
------------------------------------------------------------------------------
])
</tt></pre>
