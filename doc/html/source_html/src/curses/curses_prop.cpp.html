<!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><i><font color="#9A1900">/* optionmatrix:                                                            */</font></i>
<i><font color="#9A1900">/*                                                                          */</font></i>
<i><font color="#9A1900">/* Options &amp; Futures Matrix Modeler                                         */</font></i>
<i><font color="#9A1900">/* View and Control Theoretical Option Chains                               */</font></i>
<i><font color="#9A1900">/*                                                                          */</font></i>
<i><font color="#9A1900">/* File: curses_prop.cpp of optionmatrix                                    */</font></i>
<i><font color="#9A1900">/*                                                                          */</font></i>
<i><font color="#9A1900">/* Copyright (c) Anthony Bradford. 2012.                                    */</font></i>
<i><font color="#9A1900">/* </font></i><u><font color="#0000FF">http://anthonybradford.com</font></u><i><font color="#9A1900">                                               */</font></i>
<i><font color="#9A1900">/* </font></i><u><font color="#0000FF">info@anthonybradford.com</font></u><i><font color="#9A1900">                                                 */</font></i>
<i><font color="#9A1900">/*                                                                          */</font></i>
<i><font color="#9A1900">/* optionmatrix may be freely redistributed.                                */</font></i>
<i><font color="#9A1900">/* See file COPYING included with this distribution for license information */</font></i>

<i><font color="#9A1900">/* </font></i>
<i><font color="#9A1900">   optionmatrix is free software; you can redistribute it and/or modify</font></i>
<i><font color="#9A1900">   it under the terms of the GNU General Public License as published by</font></i>
<i><font color="#9A1900">   the Free Software Foundation; either version 3 of the License, or</font></i>
<i><font color="#9A1900">   (at your option) any later version.</font></i>

<i><font color="#9A1900">   optionmatrix program is distributed in the hope that it will be useful,</font></i>
<i><font color="#9A1900">   but WITHOUT ANY WARRANTY; without even the implied warranty of</font></i>
<i><font color="#9A1900">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</font></i>
<i><font color="#9A1900">   GNU General Public License for more details.</font></i>

<i><font color="#9A1900">   You should have received a copy of the GNU General Public License</font></i>
<i><font color="#9A1900">   along with this program.  If not, see </font></i><u><font color="#0000FF">&lt;http://www.gnu.org/licenses/&gt;</font></u><i><font color="#9A1900">.</font></i>
<i><font color="#9A1900">*/</font></i>

<b><font color="#000080">#include</font></b> <font color="#FF0000">"../common/defs.h"</font>
<b><font color="#000080">#include</font></b> <font color="#FF0000">"../common/extern.h"</font>
<b><font color="#000080">#include</font></b> <font color="#FF0000">"curses_include.h"</font>

<font color="#009900">int</font> <b><font color="#000000">props</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">_properties</font> <font color="#990000">*</font>properties<font color="#990000">,</font><b><font color="#0000FF">struct</font></b> <font color="#008080">_properties</font> <font color="#990000">*</font>future_properties<font color="#990000">)</font>
<font color="#FF0000">{</font>
    <font color="#009900">int</font> ret<font color="#990000">;</font>
    <font color="#009900">int</font> row <font color="#990000">=</font> <font color="#993399">2</font><font color="#990000">;</font>
    <font color="#009900">char</font> inputstring<font color="#990000">[</font><font color="#993399">200</font><font color="#990000">]</font>  <font color="#990000">=</font> <font color="#FF0000">{</font> <font color="#993399">0</font> <font color="#FF0000">}</font><font color="#990000">;</font>
    <font color="#009900">int</font> precision<font color="#990000">;</font>
    <font color="#009900">int</font> occurance_in_month<font color="#990000">;</font>
    <font color="#009900">int</font> occurence_plus_offset<font color="#990000">;</font>
    <font color="#009900">int</font> occurence_day<font color="#990000">;</font>
    <font color="#009900">int</font> expiration_time<font color="#990000">,</font>expiration_hour<font color="#990000">,</font>expiration_minute<font color="#990000">,</font>expiration_second<font color="#990000">;</font>

    <i><font color="#9A1900">/* if the user changed expiration times we have to recalc expiration dates */</font></i>
    <font color="#009900">bool</font> changedExpiration <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

    <b><font color="#000000">clear</font></b><font color="#990000">();</font>

    <b><font color="#000000">attron</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"AdvProperties Page / ENTER makes no change / Press ENTER to continue</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
    <b><font color="#000000">attroff</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>

    <i><font color="#9A1900">/******************************************************************/</font></i>
    <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"CALENDAR OPTIONS EXPIRATIONS</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
    row <font color="#990000">+=</font> <font color="#993399">2</font><font color="#990000">;</font>
    <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Expiration weekday = %s [Sun-Sat,0-6]      : "</font><font color="#990000">,</font> weekdays<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>occurence_day<font color="#990000">-</font><font color="#993399">1</font><font color="#990000">]);</font>

    <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>occurence_day <font color="#990000">==</font> <font color="#993399">7</font> <font color="#990000">)</font>
    <font color="#FF0000">{</font>
         <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"0</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
    <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
    <font color="#FF0000">{</font>
         <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>occurence_day<font color="#990000">);</font>
    <font color="#FF0000">}</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         occurence_day <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
    
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>occurence_day<font color="#990000">);</font>
             
         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> occurence_day <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> occurence_day <font color="#990000">&lt;=</font> <font color="#993399">7</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
             <b><font color="#0000FF">if</font></b><font color="#990000">(</font> occurence_day <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">)</font>
             <font color="#FF0000">{</font>
                  properties<font color="#990000">-&gt;</font>occurence_day <font color="#990000">=</font> <font color="#993399">7</font><font color="#990000">;</font>
             <font color="#FF0000">}</font>
             <b><font color="#0000FF">else</font></b>
             <font color="#FF0000">{</font>
                  properties<font color="#990000">-&gt;</font>occurence_day <font color="#990000">=</font> occurence_day<font color="#990000">;</font>
             <font color="#FF0000">}</font>
             
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Expiration weekday = %s [Sun-Sat,0-6]      : "</font><font color="#990000">,</font> weekdays<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>occurence_day<font color="#990000">-</font><font color="#993399">1</font><font color="#990000">]);</font>

             <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>occurence_day <font color="#990000">==</font> <font color="#993399">7</font> <font color="#990000">)</font>
             <font color="#FF0000">{</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"0</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
             <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
             <font color="#FF0000">{</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>occurence_day<font color="#990000">);</font>
             <font color="#FF0000">}</font>             
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

             changedExpiration <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Expiration weekday = %s [Sun-Sat,0-6]      : "</font><font color="#990000">,</font> weekdays<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>occurence_day<font color="#990000">-</font><font color="#993399">1</font><font color="#990000">]);</font>

             <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>occurence_day <font color="#990000">==</font> <font color="#993399">7</font> <font color="#990000">)</font>
             <font color="#FF0000">{</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"0</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
             <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
             <font color="#FF0000">{</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>occurence_day<font color="#990000">);</font>
             <font color="#FF0000">}</font>             
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>
        
    <i><font color="#9A1900">/******************************************************************/</font></i>
    <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"1st, 2nd, 3rd or 4th occurance of the month : %d"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>occurence_in_month<font color="#990000">);</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         occurance_in_month <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>occurance_in_month<font color="#990000">);</font>
         
         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> occurance_in_month <font color="#990000">&gt;</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> occurance_in_month <font color="#990000">&lt;=</font> <font color="#993399">4</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
             properties<font color="#990000">-&gt;</font>occurence_in_month <font color="#990000">=</font> occurance_in_month<font color="#990000">;</font>
             
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"1st, 2nd, 3rd or 4th occurance of the month : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>occurence_in_month<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

             changedExpiration <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"1st, 2nd, 3rd or 4th occurance of the month : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>occurence_in_month<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>
    
    <i><font color="#9A1900">/******************************************************************/</font></i>
    <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>occurence_in_month <font color="#990000">!=</font> <font color="#993399">4</font> <font color="#990000">)</font>
    <font color="#FF0000">{</font>
      <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
      <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Occurence plus offset                       : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>occurence_plus_offset<font color="#990000">);</font>

      <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
      <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         occurence_plus_offset <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>occurence_plus_offset<font color="#990000">);</font>
         
         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> occurence_plus_offset <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> occurence_plus_offset <font color="#990000">&lt;=</font> <font color="#993399">6</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
        <font color="#FF0000">{</font>
             ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
             properties<font color="#990000">-&gt;</font>occurence_plus_offset <font color="#990000">=</font> occurence_plus_offset<font color="#990000">;</font>

             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Occurence plus offset                       : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>occurence_plus_offset<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

             changedExpiration <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>             
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Occurence plus offset                       : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>occurence_plus_offset<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
      <font color="#FF0000">}</font>
    <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
    <font color="#FF0000">{</font>
      properties<font color="#990000">-&gt;</font>occurence_plus_offset <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
    <font color="#FF0000">}</font>

    <i><font color="#9A1900">/******************************************************************/</font></i>
    <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Expiration time on expiration day [HH:MM:SS]: %02d:%02d:%02d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>expiration_hour<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>expiration_minute<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>expiration_second<font color="#990000">);</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         expiration_hour <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         expiration_minute <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         expiration_second <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         expiration_time <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
         
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font> inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d:%d:%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>expiration_hour<font color="#990000">,&amp;</font>expiration_minute<font color="#990000">,&amp;</font>expiration_second<font color="#990000">);</font>

         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
           <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">55</font><font color="#990000">);</font>
           <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Must enter seconds"</font><font color="#990000">);</font>
           <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>

         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> expiration_hour <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> expiration_minute <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> expiration_second <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">3</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <b><font color="#000000">validate_time</font></b><font color="#990000">(</font>expiration_hour<font color="#990000">,</font>expiration_minute<font color="#990000">,</font>expiration_second<font color="#990000">)</font> <font color="#990000">!=</font> <font color="#993399">0</font> <font color="#990000">)</font>
             <font color="#FF0000">{</font>
               <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>
             <font color="#FF0000">}</font>

             <b><font color="#0000FF">if</font></b><font color="#990000">(</font> expiration_hour <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">)</font>
             <font color="#FF0000">{</font>
                  properties<font color="#990000">-&gt;</font>expiration_hour <font color="#990000">=</font> expiration_hour<font color="#990000">;</font>
                  expiration_time <font color="#990000">+=</font> <font color="#990000">((</font>expiration_hour <font color="#990000">*</font> <font color="#993399">60</font><font color="#990000">)</font> <font color="#990000">*</font> <font color="#993399">60</font><font color="#990000">);</font>
             <font color="#FF0000">}</font>
             <b><font color="#0000FF">if</font></b><font color="#990000">(</font> expiration_minute <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">)</font>
             <font color="#FF0000">{</font>
                  properties<font color="#990000">-&gt;</font>expiration_minute <font color="#990000">=</font> expiration_minute<font color="#990000">;</font>
                  expiration_time <font color="#990000">+=</font> <font color="#990000">(</font>expiration_minute <font color="#990000">*</font> <font color="#993399">60</font><font color="#990000">);</font>
             <font color="#FF0000">}</font>
             <b><font color="#0000FF">if</font></b><font color="#990000">(</font> expiration_second <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">)</font>
             <font color="#FF0000">{</font>
                  properties<font color="#990000">-&gt;</font>expiration_second <font color="#990000">=</font> expiration_second<font color="#990000">;</font>
                  expiration_time <font color="#990000">+=</font> expiration_second<font color="#990000">;</font>
             <font color="#FF0000">}</font>
             
             properties<font color="#990000">-&gt;</font>expiration_time <font color="#990000">=</font> expiration_time<font color="#990000">;</font>

             <i><font color="#9A1900">/*move(row,55);</font></i>
<i><font color="#9A1900">             printw(" = %d seconds in the day\n", properties-&gt;expiration_time);*/</font></i>

             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Expiration time on expiration day [HH:MM:SS]: %02d:%02d:%02d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>expiration_hour<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>expiration_minute<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>expiration_second<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

             changedExpiration <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>

             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Expiration time on expiration day [HH:MM:SS]: %02d:%02d:%02d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>expiration_hour<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>expiration_minute<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>expiration_second<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>

    <i><font color="#9A1900">/******************************************************************/</font></i>
    <i><font color="#9A1900">/* char *optionscycle[] = { "All", "Jan", "Feb", "Mar", "LEAPS" }; */</font></i>

    <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Options month cycle                         : %d</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>optionscycle<font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"            %s %d=All"</font><font color="#990000">,</font> <font color="#990000">(</font>properties<font color="#990000">-&gt;</font>optionscycle <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">?</font> <font color="#FF0000">"--&gt;"</font> <font color="#990000">:</font> <font color="#FF0000">"   "</font><font color="#990000">),</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"     %s %d=LEAPS</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> <font color="#990000">(</font>properties<font color="#990000">-&gt;</font>optionscycle <font color="#990000">==</font> <font color="#993399">4</font> <font color="#990000">?</font> <font color="#FF0000">"--&gt;"</font> <font color="#990000">:</font> <font color="#FF0000">"   "</font><font color="#990000">),</font><font color="#993399">4</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"            %s %d=Jan</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> <font color="#990000">(</font>properties<font color="#990000">-&gt;</font>optionscycle <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">?</font> <font color="#FF0000">"--&gt;"</font> <font color="#990000">:</font> <font color="#FF0000">"   "</font><font color="#990000">),</font><font color="#993399">1</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"            %s %d=Feb</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> <font color="#990000">(</font>properties<font color="#990000">-&gt;</font>optionscycle <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">?</font> <font color="#FF0000">"--&gt;"</font> <font color="#990000">:</font> <font color="#FF0000">"   "</font><font color="#990000">),</font><font color="#993399">2</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"            %s %d=Mar</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> <font color="#990000">(</font>properties<font color="#990000">-&gt;</font>optionscycle <font color="#990000">==</font> <font color="#993399">3</font> <font color="#990000">?</font> <font color="#FF0000">"--&gt;"</font> <font color="#990000">:</font> <font color="#FF0000">"   "</font><font color="#990000">),</font><font color="#993399">3</font><font color="#990000">);</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <font color="#009900">int</font> type <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font> inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>type<font color="#990000">);</font>

         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> type <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> type <font color="#990000">&lt;=</font> <font color="#993399">4</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">41</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> type<font color="#990000">);</font>
             properties<font color="#990000">-&gt;</font>optionscycle <font color="#990000">=</font> type<font color="#990000">;</font>

             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Options month cycle                         : %d</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>optionscycle<font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"            %s %d=All"</font><font color="#990000">,</font> <font color="#990000">(</font>properties<font color="#990000">-&gt;</font>optionscycle <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">?</font> <font color="#FF0000">"--&gt;"</font> <font color="#990000">:</font> <font color="#FF0000">"   "</font><font color="#990000">),</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"     %s %d=LEAPS</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> <font color="#990000">(</font>properties<font color="#990000">-&gt;</font>optionscycle <font color="#990000">==</font> <font color="#993399">4</font> <font color="#990000">?</font> <font color="#FF0000">"--&gt;"</font> <font color="#990000">:</font> <font color="#FF0000">"   "</font><font color="#990000">),</font><font color="#993399">4</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"            %s %d=Jan</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> <font color="#990000">(</font>properties<font color="#990000">-&gt;</font>optionscycle <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">?</font> <font color="#FF0000">"--&gt;"</font> <font color="#990000">:</font> <font color="#FF0000">"   "</font><font color="#990000">),</font><font color="#993399">1</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"            %s %d=Feb</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> <font color="#990000">(</font>properties<font color="#990000">-&gt;</font>optionscycle <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">?</font> <font color="#FF0000">"--&gt;"</font> <font color="#990000">:</font> <font color="#FF0000">"   "</font><font color="#990000">),</font><font color="#993399">2</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"            %s %d=Mar</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> <font color="#990000">(</font>properties<font color="#990000">-&gt;</font>optionscycle <font color="#990000">==</font> <font color="#993399">3</font> <font color="#990000">?</font> <font color="#FF0000">"--&gt;"</font> <font color="#990000">:</font> <font color="#FF0000">"   "</font><font color="#990000">),</font><font color="#993399">3</font><font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

             changedExpiration <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Options month cycle                         : %d</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>optionscycle<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>

    <i><font color="#9A1900">/******************************************************************/</font></i>
    <i><font color="#9A1900">/* Futures stuff */</font></i>
    row <font color="#990000">+=</font> <font color="#993399">7</font><font color="#990000">;</font>

    <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"CALENDAR FUTURES EXPIRATIONS</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
    row <font color="#990000">+=</font> <font color="#993399">2</font><font color="#990000">;</font>
    <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Expiration weekday = %s [Sun-Sat,0-6]      : "</font><font color="#990000">,</font> weekdays<font color="#990000">[</font>future_properties<font color="#990000">-&gt;</font>occurence_day<font color="#990000">-</font><font color="#993399">1</font><font color="#990000">]);</font>

    <b><font color="#0000FF">if</font></b><font color="#990000">(</font> future_properties<font color="#990000">-&gt;</font>occurence_day <font color="#990000">==</font> <font color="#993399">7</font> <font color="#990000">)</font>
    <font color="#FF0000">{</font>
         <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"0</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
    <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
    <font color="#FF0000">{</font>
         <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> future_properties<font color="#990000">-&gt;</font>occurence_day<font color="#990000">);</font>
    <font color="#FF0000">}</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         occurence_day <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
    
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font> inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>occurence_day<font color="#990000">);</font>
             
         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> occurence_day <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> occurence_day <font color="#990000">&lt;=</font> <font color="#993399">7</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
             <b><font color="#0000FF">if</font></b><font color="#990000">(</font> occurence_day <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">)</font>
             <font color="#FF0000">{</font>
                  future_properties<font color="#990000">-&gt;</font>occurence_day <font color="#990000">=</font> <font color="#993399">7</font><font color="#990000">;</font>
             <font color="#FF0000">}</font>
             <b><font color="#0000FF">else</font></b>
             <font color="#FF0000">{</font>
                  future_properties<font color="#990000">-&gt;</font>occurence_day <font color="#990000">=</font> occurence_day<font color="#990000">;</font>
             <font color="#FF0000">}</font>
             
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Expiration weekday = %s [Sun-Sat,0-6]      : "</font><font color="#990000">,</font> weekdays<font color="#990000">[</font>future_properties<font color="#990000">-&gt;</font>occurence_day<font color="#990000">-</font><font color="#993399">1</font><font color="#990000">]);</font>

             <b><font color="#0000FF">if</font></b><font color="#990000">(</font> future_properties<font color="#990000">-&gt;</font>occurence_day <font color="#990000">==</font> <font color="#993399">7</font> <font color="#990000">)</font>
             <font color="#FF0000">{</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"0</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
             <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
             <font color="#FF0000">{</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> future_properties<font color="#990000">-&gt;</font>occurence_day<font color="#990000">);</font>
             <font color="#FF0000">}</font>             
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

             changedExpiration <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Expiration weekday = %s [Sun-Sat,0-6]      : "</font><font color="#990000">,</font> weekdays<font color="#990000">[</font>future_properties<font color="#990000">-&gt;</font>occurence_day<font color="#990000">-</font><font color="#993399">1</font><font color="#990000">]);</font>

             <b><font color="#0000FF">if</font></b><font color="#990000">(</font> future_properties<font color="#990000">-&gt;</font>occurence_day <font color="#990000">==</font> <font color="#993399">7</font> <font color="#990000">)</font>
             <font color="#FF0000">{</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"0</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
             <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
             <font color="#FF0000">{</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> future_properties<font color="#990000">-&gt;</font>occurence_day<font color="#990000">);</font>
             <font color="#FF0000">}</font>             
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>

    <i><font color="#9A1900">/******************************************************************/</font></i>

    <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"1st, 2nd, 3rd or 4th occurance of the month : %d"</font><font color="#990000">,</font> future_properties<font color="#990000">-&gt;</font>occurence_in_month<font color="#990000">);</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         occurance_in_month <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>occurance_in_month<font color="#990000">);</font>
         
         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> occurance_in_month <font color="#990000">&gt;</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> occurance_in_month <font color="#990000">&lt;=</font> <font color="#993399">4</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
             future_properties<font color="#990000">-&gt;</font>occurence_in_month <font color="#990000">=</font> occurance_in_month<font color="#990000">;</font>
             
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"1st, 2nd, 3rd or 4th occurance of the month : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> future_properties<font color="#990000">-&gt;</font>occurence_in_month<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

             changedExpiration <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"1st, 2nd, 3rd or 4th occurance of the month : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> future_properties<font color="#990000">-&gt;</font>occurence_in_month<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>
    
    <i><font color="#9A1900">/******************************************************************/</font></i>
    <b><font color="#0000FF">if</font></b><font color="#990000">(</font> future_properties<font color="#990000">-&gt;</font>occurence_in_month <font color="#990000">!=</font> <font color="#993399">4</font> <font color="#990000">)</font>
    <font color="#FF0000">{</font>
      <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
      <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Occurence plus offset                       : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> future_properties<font color="#990000">-&gt;</font>occurence_plus_offset<font color="#990000">);</font>

      <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
      <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         occurence_plus_offset <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font> inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>occurence_plus_offset<font color="#990000">);</font>
         
         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> occurence_plus_offset <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> occurence_plus_offset <font color="#990000">&lt;=</font> <font color="#993399">6</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
             future_properties<font color="#990000">-&gt;</font>occurence_plus_offset <font color="#990000">=</font> occurence_plus_offset<font color="#990000">;</font>

             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Occurence plus offset                       : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> future_properties<font color="#990000">-&gt;</font>occurence_plus_offset<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

             changedExpiration <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>             
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Occurence plus offset                       : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> future_properties<font color="#990000">-&gt;</font>occurence_plus_offset<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
      <font color="#FF0000">}</font>
    <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
    <font color="#FF0000">{</font>
      future_properties<font color="#990000">-&gt;</font>occurence_plus_offset <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
    <font color="#FF0000">}</font>

    <i><font color="#9A1900">/******************************************************************/</font></i>
    <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Expiration time on expiration day [HH:MM:SS]: %02d:%02d:%02d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> future_properties<font color="#990000">-&gt;</font>expiration_hour<font color="#990000">,</font>future_properties<font color="#990000">-&gt;</font>expiration_minute<font color="#990000">,</font>future_properties<font color="#990000">-&gt;</font>expiration_second<font color="#990000">);</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         expiration_hour <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         expiration_minute <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         expiration_second <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         expiration_time <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
         
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font> inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d:%d:%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>expiration_hour<font color="#990000">,&amp;</font>expiration_minute<font color="#990000">,&amp;</font>expiration_second<font color="#990000">);</font>

         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
           <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">55</font><font color="#990000">);</font>
           <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Must enter seconds"</font><font color="#990000">);</font>
           <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>

         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> expiration_hour <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> expiration_minute <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> expiration_second <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">3</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <b><font color="#000000">validate_time</font></b><font color="#990000">(</font>expiration_hour<font color="#990000">,</font>expiration_minute<font color="#990000">,</font>expiration_second<font color="#990000">)</font> <font color="#990000">!=</font> <font color="#993399">0</font> <font color="#990000">)</font>
             <font color="#FF0000">{</font>
               <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>
             <font color="#FF0000">}</font>

             <b><font color="#0000FF">if</font></b><font color="#990000">(</font> expiration_hour <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">)</font>
             <font color="#FF0000">{</font>
                  future_properties<font color="#990000">-&gt;</font>expiration_hour <font color="#990000">=</font> expiration_hour<font color="#990000">;</font>
                  expiration_time <font color="#990000">+=</font> <font color="#990000">((</font>expiration_hour <font color="#990000">*</font> <font color="#993399">60</font><font color="#990000">)</font> <font color="#990000">*</font> <font color="#993399">60</font><font color="#990000">);</font>
             <font color="#FF0000">}</font>
             <b><font color="#0000FF">if</font></b><font color="#990000">(</font>expiration_minute <font color="#990000">&gt;=</font> <font color="#993399">0</font><font color="#990000">)</font>
             <font color="#FF0000">{</font>
                  future_properties<font color="#990000">-&gt;</font>expiration_minute <font color="#990000">=</font> expiration_minute<font color="#990000">;</font>
                  expiration_time <font color="#990000">+=</font> <font color="#990000">(</font>expiration_minute <font color="#990000">*</font> <font color="#993399">60</font><font color="#990000">);</font>
             <font color="#FF0000">}</font>
             <b><font color="#0000FF">if</font></b><font color="#990000">(</font> expiration_second <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">)</font>
             <font color="#FF0000">{</font>
                  future_properties<font color="#990000">-&gt;</font>expiration_second <font color="#990000">=</font> expiration_second<font color="#990000">;</font>
                  expiration_time <font color="#990000">+=</font> expiration_second<font color="#990000">;</font>
             <font color="#FF0000">}</font>
             
             future_properties<font color="#990000">-&gt;</font>expiration_time <font color="#990000">=</font> expiration_time<font color="#990000">;</font>

             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Expiration time on expiration day [HH:MM:SS]: %02d:%02d:%02d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> future_properties<font color="#990000">-&gt;</font>expiration_hour<font color="#990000">,</font>future_properties<font color="#990000">-&gt;</font>expiration_minute<font color="#990000">,</font>future_properties<font color="#990000">-&gt;</font>expiration_second<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

             changedExpiration <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>

             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Expiration time on expiration day [HH:MM:SS]: %02d:%02d:%02d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> future_properties<font color="#990000">-&gt;</font>expiration_hour<font color="#990000">,</font>future_properties<font color="#990000">-&gt;</font>expiration_minute<font color="#990000">,</font>future_properties<font color="#990000">-&gt;</font>expiration_second<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>

    <i><font color="#9A1900">/* End Futures stuff */</font></i>
    <i><font color="#9A1900">/******************************************************************/</font></i>

    <i><font color="#9A1900">/* clear screen top of screen */</font></i>
    <b><font color="#000000">clear</font></b><font color="#990000">();</font>
    row <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
    
    <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Floating point precision                    : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>precision<font color="#990000">);</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         precision <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font> inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>precision<font color="#990000">);</font>

         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> precision <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             properties<font color="#990000">-&gt;</font>precision <font color="#990000">=</font> precision<font color="#990000">;</font>

             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Floating point precision                    : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>precision<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Floating point precision                    : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>precision<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>

    <i><font color="#9A1900">/******************************************************************/</font></i>

    <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Real time bleeding / updating  [1=On,0=Off] : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>realTimeBleeding<font color="#990000">);</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <font color="#009900">int</font> realTimeBleeding <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font> inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>realTimeBleeding<font color="#990000">);</font>

         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> realTimeBleeding <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> realTimeBleeding <font color="#990000">&lt;=</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             properties<font color="#990000">-&gt;</font>realTimeBleeding <font color="#990000">=</font> realTimeBleeding<font color="#990000">;</font>

             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Real time bleeding / updating  [1=On,0=Off] : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>realTimeBleeding<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Real time bleeding / updating  [1=On,0=Off] : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>realTimeBleeding<font color="#990000">);</font>

             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>
    <i><font color="#9A1900">/******************************************************************/</font></i>
    <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Updating delay in seconds                   : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>updatedelayseconds<font color="#990000">);</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <font color="#009900">int</font> updatedelayseconds <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>updatedelayseconds<font color="#990000">);</font>

         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> updatedelayseconds <font color="#990000">&gt;</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             properties<font color="#990000">-&gt;</font>updatedelayseconds <font color="#990000">=</font> updatedelayseconds<font color="#990000">;</font>

             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Updating delay in seconds                   : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>updatedelayseconds<font color="#990000">);</font>

             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Updating delay in seconds                   : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>updatedelayseconds<font color="#990000">);</font>

             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>
    <i><font color="#9A1900">/******************************************************************/</font></i>

    <font color="#009900">char</font> stringtemp2<font color="#990000">[</font><font color="#993399">200</font><font color="#990000">];</font>
    <b><font color="#000000">memset</font></b><font color="#990000">(</font>stringtemp2<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#993399">0</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>stringtemp2<font color="#990000">));</font>
    
    <font color="#009900">int</font> scounter<font color="#990000">;</font>
    <b><font color="#0000FF">for</font></b><font color="#990000">(</font> scounter<font color="#990000">=</font><font color="#993399">0</font><font color="#990000">;</font> scounter <font color="#990000">&lt;</font> <font color="#990000">(</font>sizeofstrike_control<font color="#990000">/(</font><font color="#009900">signed</font><font color="#990000">)(</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">_strike_control</font><font color="#990000">)));</font> scounter<font color="#990000">++</font> <font color="#990000">)</font>
    <font color="#FF0000">{</font>
      <b><font color="#000000">strcat</font></b><font color="#990000">(</font>stringtemp2<font color="#990000">,</font>strike_control<font color="#990000">[</font>scounter<font color="#990000">].</font>des<font color="#990000">);</font>
      <b><font color="#000000">strcat</font></b><font color="#990000">(</font>stringtemp2<font color="#990000">,</font><font color="#FF0000">" "</font><font color="#990000">);</font>
    <font color="#FF0000">}</font>

    <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Strike increments %19s [0-%d] : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> stringtemp2<font color="#990000">,</font>
            <font color="#990000">(</font>sizeofstrike_control<font color="#990000">/(</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">_strike_control</font><font color="#990000">))-</font><font color="#993399">1</font><font color="#990000">),</font>
            properties<font color="#990000">-&gt;</font>strikestoogle<font color="#990000">);</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <font color="#009900">int</font> strikestyle <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font> inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>strikestyle<font color="#990000">);</font>

         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> strikestyle <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> 
            <font color="#990000">(</font>strikestyle<font color="#990000">&lt;=(</font>sizeofstrike_control<font color="#990000">/(</font><font color="#009900">signed</font><font color="#990000">)(</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">_strike_control</font><font color="#990000">))-</font><font color="#993399">1</font><font color="#990000">))</font> <font color="#990000">&amp;&amp;</font> 
            ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             properties<font color="#990000">-&gt;</font>strikestoogle <font color="#990000">=</font> strikestyle<font color="#990000">;</font>

             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Strike increments %19s [0-%d] : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> stringtemp2<font color="#990000">,</font>
                     <font color="#990000">(</font>sizeofstrike_control<font color="#990000">/(</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">_strike_control</font><font color="#990000">))-</font><font color="#993399">1</font><font color="#990000">),</font>
                     properties<font color="#990000">-&gt;</font>strikestoogle<font color="#990000">);</font>

             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Strike increments %19s [0-%d] : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> stringtemp2<font color="#990000">,</font>
                     <font color="#990000">(</font>sizeofstrike_control<font color="#990000">/(</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">_strike_control</font><font color="#990000">))-</font><font color="#993399">1</font><font color="#990000">),</font>
                     properties<font color="#990000">-&gt;</font>strikestoogle<font color="#990000">);</font>

             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>
    <i><font color="#9A1900">/******************************************************************/</font></i>

    <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Highlight in the money options [1=On,0=Off] : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>highlightInTheMoney<font color="#990000">);</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <font color="#009900">int</font> highlightInTheMoney <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font> inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>highlightInTheMoney<font color="#990000">);</font>

         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> highlightInTheMoney <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> highlightInTheMoney <font color="#990000">&lt;=</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             properties<font color="#990000">-&gt;</font>highlightInTheMoney <font color="#990000">=</font> highlightInTheMoney<font color="#990000">;</font>

             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Highlight in the money options [1=On,0=Off] : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>highlightInTheMoney<font color="#990000">);</font>

             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Highlight in the money options [1=On,0=Off] : %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>highlightInTheMoney<font color="#990000">);</font>

             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>
    <i><font color="#9A1900">/******************************************************************/</font></i>
    <b><font color="#000000">clear</font></b><font color="#990000">();</font>
    row <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>

    <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"BEGIN - ONLY FOR NON-STEP METHODS</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
    row <font color="#990000">+=</font> <font color="#993399">2</font><font color="#990000">;</font>
    
    <b><font color="#0000FF">const</font></b> <font color="#009900">int</font> num_integration <font color="#990000">=</font> sizeofintegration_method<font color="#990000">/</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">numerical_integration_method</font><font color="#990000">);</font>

    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Cumulative Norm Distribution calculation 0-%d: %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> num_integration<font color="#990000">-</font><font color="#993399">1</font><font color="#990000">,</font>properties<font color="#990000">-&gt;</font>integration_type<font color="#990000">);</font>
    
    <font color="#009900">int</font> x<font color="#990000">;</font>
    <b><font color="#0000FF">for</font></b><font color="#990000">(</font> x <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font> x <font color="#990000">&lt;</font> num_integration<font color="#990000">;</font> x<font color="#990000">++</font> <font color="#990000">)</font>
    <font color="#FF0000">{</font>
      <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"            %s %d=%s</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> <font color="#990000">(</font>properties<font color="#990000">-&gt;</font>integration_type<font color="#990000">==</font>x<font color="#990000">?</font><font color="#FF0000">"--&gt;"</font><font color="#990000">:</font><font color="#FF0000">"   "</font><font color="#990000">),</font>x<font color="#990000">,</font>integration_method<font color="#990000">[</font>x<font color="#990000">].</font>des<font color="#990000">);</font>
    <font color="#FF0000">}</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <font color="#009900">int</font> type <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>type<font color="#990000">);</font>

         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <font color="#990000">(</font>type <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">||</font> type <font color="#990000">&lt;</font> num_integration<font color="#990000">)</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">41</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> type<font color="#990000">);</font>
             properties<font color="#990000">-&gt;</font>integration_type <font color="#990000">=</font> type<font color="#990000">;</font>

             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Cumulative Norm Distribution calculation 0-%d: %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> num_integration<font color="#990000">-</font><font color="#993399">1</font><font color="#990000">,</font>properties<font color="#990000">-&gt;</font>integration_type<font color="#990000">);</font>

             <b><font color="#0000FF">for</font></b><font color="#990000">(</font> x <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font> x <font color="#990000">&lt;</font> num_integration<font color="#990000">;</font> x<font color="#990000">++</font> <font color="#990000">)</font>
             <font color="#FF0000">{</font>

               <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"            %s %d=%s</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> <font color="#990000">(</font>properties<font color="#990000">-&gt;</font>integration_type <font color="#990000">==</font> x <font color="#990000">?</font> <font color="#FF0000">"--&gt;"</font> <font color="#990000">:</font> <font color="#FF0000">"   "</font><font color="#990000">),</font>x<font color="#990000">,</font>integration_method<font color="#990000">[</font>x<font color="#990000">].</font>des<font color="#990000">);</font>

             <font color="#FF0000">}</font>

             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Cumulative Norm Distribution calculation 0-%d: %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> num_integration<font color="#990000">-</font><font color="#993399">1</font><font color="#990000">,</font>properties<font color="#990000">-&gt;</font>integration_type<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>

    row <font color="#990000">+=</font> num_integration<font color="#990000">+</font><font color="#993399">1</font><font color="#990000">;</font>

    <i><font color="#9A1900">/******************************************************************/</font></i>

    <b><font color="#0000FF">for</font></b><font color="#990000">(</font> x <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font> x <font color="#990000">&lt;</font> num_integration<font color="#990000">;</font> x<font color="#990000">++</font> <font color="#990000">)</font>
    <font color="#FF0000">{</font>
      <b><font color="#0000FF">if</font></b><font color="#990000">(</font> integration_method<font color="#990000">[</font>x<font color="#990000">].</font>method <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">)</font>
         <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>

      <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
      <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%s rule/method integration resolution: %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> integration_method<font color="#990000">[</font>x<font color="#990000">].</font>des<font color="#990000">,</font>integration_method<font color="#990000">[</font>x<font color="#990000">].</font>resolution<font color="#990000">);</font>

      <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
      <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <font color="#009900">int</font> resolution <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font> inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>resolution<font color="#990000">);</font>

         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> resolution <font color="#990000">&gt;</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#0000FF">if</font></b><font color="#990000">(</font> integration_method<font color="#990000">[</font>x<font color="#990000">].</font>UpperLimit <font color="#990000">!=</font> <font color="#993399">0</font> <font color="#990000">)</font>
             <font color="#FF0000">{</font>
               <b><font color="#0000FF">if</font></b><font color="#990000">(</font> resolution<font color="#990000">&gt;</font>integration_method<font color="#990000">[</font>x<font color="#990000">].</font>UpperLimit <font color="#990000">)</font>
                  <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>
             <font color="#FF0000">}</font>

             <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <font color="#990000">(</font>resolution <font color="#990000">%</font> <font color="#993399">2</font><font color="#990000">)</font> <font color="#990000">!=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> integration_method<font color="#990000">[</font>x<font color="#990000">].</font>allowOnlyEven <font color="#990000">==</font> <font color="#993399">1</font><font color="#990000">)</font> 
             <font color="#FF0000">{</font>
                  resolution <font color="#990000">+=</font> <font color="#993399">1</font><font color="#990000">;</font>
                  <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">41</font><font color="#990000">);</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> resolution<font color="#990000">);</font>
             <font color="#FF0000">}</font>

             integration_method<font color="#990000">[</font>x<font color="#990000">].</font>resolution <font color="#990000">=</font> resolution<font color="#990000">;</font>

             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%s rule/method integration resolution: %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> integration_method<font color="#990000">[</font>x<font color="#990000">].</font>des<font color="#990000">,</font>integration_method<font color="#990000">[</font>x<font color="#990000">].</font>resolution<font color="#990000">);</font>

             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%s rule/method integration resolution: %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> integration_method<font color="#990000">[</font>x<font color="#990000">].</font>des<font color="#990000">,</font>integration_method<font color="#990000">[</font>x<font color="#990000">].</font>resolution<font color="#990000">);</font>

             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
      <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>
    row<font color="#990000">++;</font>
    <i><font color="#9A1900">/******************************************************************/</font></i>

    <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Distribution variance                       : %f</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>distribution_variance<font color="#990000">);</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <font color="#009900">double</font> variance <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font> inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>variance<font color="#990000">);</font>

         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             properties<font color="#990000">-&gt;</font>distribution_variance <font color="#990000">=</font> variance<font color="#990000">;</font>

             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Distribution variance                       : %f</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>distribution_variance<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Distribution variance                       : %f</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>distribution_variance<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>

    <i><font color="#9A1900">/******************************************************************/</font></i>

    <b><font color="#000000">move</font></b><font color="#990000">(++</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Distribution mean                           : %f</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>distribution_mean<font color="#990000">);</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <font color="#009900">double</font> mean <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font> inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>mean<font color="#990000">);</font>

         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             properties<font color="#990000">-&gt;</font>distribution_mean <font color="#990000">=</font> mean<font color="#990000">;</font>

             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Distribution mean                           : %f</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>distribution_mean<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Distribution mean                           : %f</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>distribution_mean<font color="#990000">);</font>
             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>
    row <font color="#990000">+=</font> <font color="#993399">2</font><font color="#990000">;</font>

    <i><font color="#9A1900">/******************************************************************/</font></i>

    <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Distribution type                           : %d</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>distribution_type<font color="#990000">);</font>

    <b><font color="#0000FF">const</font></b> <font color="#009900">int</font> numberofdistributions <font color="#990000">=</font> sizeofdistribution_list<font color="#990000">/</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>distribution_list<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]);</font>
    <font color="#009900">int</font> counter<font color="#990000">;</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(</font> counter <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font> counter <font color="#990000">&lt;</font> numberofdistributions<font color="#990000">;</font> counter<font color="#990000">++</font> <font color="#990000">)</font>
    <font color="#FF0000">{</font>
      <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"            %s %d=%s</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,(</font>properties<font color="#990000">-&gt;</font>distribution_type <font color="#990000">==</font> counter <font color="#990000">?</font> <font color="#FF0000">"--&gt;"</font> <font color="#990000">:</font> <font color="#FF0000">"   "</font><font color="#990000">),</font>counter<font color="#990000">,</font>distribution_list<font color="#990000">[</font>counter<font color="#990000">].</font>des<font color="#990000">);</font>
    <font color="#FF0000">}</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
         ret <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <font color="#009900">int</font> type <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
         <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
         <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">46</font><font color="#990000">);</font>
         <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font> inputstring<font color="#990000">);</font>
         ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,</font> <font color="#990000">&amp;</font>type<font color="#990000">);</font>

         <b><font color="#0000FF">if</font></b><font color="#990000">(</font> type <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> type <font color="#990000">&lt;</font> numberofdistributions <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">41</font><font color="#990000">);</font>
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font>type<font color="#990000">);</font>
             
             properties<font color="#990000">-&gt;</font>distribution_type <font color="#990000">=</font> type<font color="#990000">;</font>
             
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
             
             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Distribution type                           : %d</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>distribution_type<font color="#990000">);</font>

             <b><font color="#0000FF">for</font></b><font color="#990000">(</font> counter <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font> counter <font color="#990000">&lt;</font> numberofdistributions<font color="#990000">;</font> counter<font color="#990000">++)</font>
             <font color="#FF0000">{</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"            %s %d=%s</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font> <font color="#990000">(</font>properties<font color="#990000">-&gt;</font>distribution_type <font color="#990000">==</font> counter <font color="#990000">?</font> <font color="#FF0000">"--&gt;"</font> <font color="#990000">:</font> <font color="#FF0000">"   "</font><font color="#990000">),</font>counter<font color="#990000">,</font>distribution_list<font color="#990000">[</font>counter<font color="#990000">].</font>des<font color="#990000">);</font>
             <font color="#FF0000">}</font>

             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             <b><font color="#000000">usleep</font></b><font color="#990000">(</font><font color="#993399">1000000</font><font color="#990000">);</font>
           
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
             
         <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
         <font color="#FF0000">{</font>
             <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

             <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Distribution type                           : %d</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>distribution_type<font color="#990000">);</font>

             <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
             
             <i><font color="#9A1900">/* the user just entered ENTER</font></i>
<i><font color="#9A1900">                so just use previous value no change */</font></i>
             <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
         <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>
    row <font color="#990000">+=</font> <font color="#993399">5</font><font color="#990000">;</font>
    <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"END - ONLY FOR NON-STEP METHODS</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
    
    <i><font color="#9A1900">/*</font></i>
<i><font color="#9A1900">    clear();</font></i>
<i><font color="#9A1900">    row = 0;</font></i>
<i><font color="#9A1900">    move(row,0);</font></i>

<i><font color="#9A1900">    // ******************************************************************</font></i>
<i><font color="#9A1900">    printw("BEGIN - ONLY FOR STEPPING METHODS\n\n");</font></i>

<i><font color="#9A1900">    row += 2;</font></i>

<i><font color="#9A1900">    int optiontype;</font></i>
<i><font color="#9A1900">    for( optiontype = 0; optiontype&lt;(sizeofoption_algorithms/(signed)sizeof(struct option_algorithm)); optiontype++ )</font></i>
<i><font color="#9A1900">    {</font></i>
<i><font color="#9A1900">      if( option_algorithms[optiontype].supportSteps == 1 )</font></i>
<i><font color="#9A1900">      {</font></i>
<i><font color="#9A1900">         printw("%-20s number of steps        : %d\n", option_algorithms[optiontype].des,option_algorithms[optiontype].steps); clrtoeol();</font></i>

<i><font color="#9A1900">          for(;;)</font></i>
<i><font color="#9A1900">          {</font></i>
<i><font color="#9A1900">            ret = -1;</font></i>
<i><font color="#9A1900">            int type =-1;</font></i>
<i><font color="#9A1900">            memset(inputstring,(int) ' ',sizeof(inputstring));</font></i>
<i><font color="#9A1900">            move(row,46);</font></i>
<i><font color="#9A1900">            scanw("%10s",inputstring);</font></i>
<i><font color="#9A1900">            ret = sscanf(inputstring,"%d",&amp;type);</font></i>

<i><font color="#9A1900">            if( type &gt;= 0 &amp;&amp; inputstring[0] != ' ' )</font></i>
<i><font color="#9A1900">            {</font></i>
<i><font color="#9A1900">              move(row,41);</font></i>
<i><font color="#9A1900">              printw("%d\n", type);</font></i>
<i><font color="#9A1900">             </font></i>
<i><font color="#9A1900">              option_algorithms[optiontype].steps = type;</font></i>
<i><font color="#9A1900">             </font></i>
<i><font color="#9A1900">              move(row++,0);</font></i>

<i><font color="#9A1900">              printw("%-20s number of steps        : %d\n", option_algorithms[optiontype].des,option_algorithms[optiontype].steps); clrtoeol();             </font></i>

<i><font color="#9A1900">              refresh();</font></i>
<i><font color="#9A1900">              </font></i>
<i><font color="#9A1900">              break;</font></i>
<i><font color="#9A1900">             </font></i>
<i><font color="#9A1900">         } else if( ret == 0 || ret == -1 || inputstring[0] == ' ' )</font></i>
<i><font color="#9A1900">         {</font></i>
<i><font color="#9A1900">             move(row++,0);</font></i>

<i><font color="#9A1900">             printw("%-20s number of steps        : %d\n", option_algorithms[optiontype].des,option_algorithms[optiontype].steps); clrtoeol();             </font></i>

<i><font color="#9A1900">             refresh();</font></i>
<i><font color="#9A1900">             </font></i>
<i><font color="#9A1900">             // the user just entered ENTER</font></i>
<i><font color="#9A1900">             // so just use previous value no change</font></i>
<i><font color="#9A1900">             break;</font></i>
<i><font color="#9A1900">         }</font></i>
<i><font color="#9A1900">      }</font></i>
<i><font color="#9A1900">     }</font></i>
<i><font color="#9A1900">    }</font></i>
<i><font color="#9A1900">    move(row++,0);</font></i>
<i><font color="#9A1900">    printw("END - ONLY FOR STEPPING METHODS\n");</font></i>
<i><font color="#9A1900">    // ******************************************************************</font></i>

<i><font color="#9A1900">    */</font></i>
    <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

    <b><font color="#0000FF">if</font></b><font color="#990000">(</font> changedExpiration <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
    <font color="#FF0000">{</font>
         <b><font color="#0000FF">return</font></b> <font color="#993399">1</font><font color="#990000">;</font>
         
    <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
    <font color="#FF0000">{</font>
         <b><font color="#0000FF">return</font></b> <font color="#993399">0</font><font color="#990000">;</font>
    <font color="#FF0000">}</font>
<font color="#FF0000">}</font>
</tt></pre>
