<!-- Generator: GNU source-highlight 3.1.7
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><i><font color="#9A1900">/* optionmatrix:                                                            */</font></i>
<i><font color="#9A1900">/*                                                                          */</font></i>
<i><font color="#9A1900">/* Options &amp; Futures Matrix Modeler                                         */</font></i>
<i><font color="#9A1900">/* View and Control Theoretical Option Chains                               */</font></i>
<i><font color="#9A1900">/*                                                                          */</font></i>
<i><font color="#9A1900">/* File: curses_inputs.cpp of optionmatrix                                  */</font></i>
<i><font color="#9A1900">/*                                                                          */</font></i>
<i><font color="#9A1900">/* Copyright (c) Anthony Bradford. 2012.                                    */</font></i>
<i><font color="#9A1900">/* </font></i><u><font color="#0000FF">http://anthonybradford.com</font></u><i><font color="#9A1900">                                               */</font></i>
<i><font color="#9A1900">/* </font></i><u><font color="#0000FF">info@anthonybradford.com</font></u><i><font color="#9A1900">                                                 */</font></i>
<i><font color="#9A1900">/*                                                                          */</font></i>
<i><font color="#9A1900">/* optionmatrix may be freely redistributed.                                */</font></i>
<i><font color="#9A1900">/* See file COPYING included with this distribution for license information */</font></i>

<i><font color="#9A1900">/* </font></i>
<i><font color="#9A1900">   optionmatrix program is free software; you can redistribute it and/or modify</font></i>
<i><font color="#9A1900">   it under the terms of the GNU General Public License as published by</font></i>
<i><font color="#9A1900">   the Free Software Foundation; either version 3 of the License, or</font></i>
<i><font color="#9A1900">   (at your option) any later version.</font></i>

<i><font color="#9A1900">   optionmatrix program is distributed in the hope that it will be useful,</font></i>
<i><font color="#9A1900">   but WITHOUT ANY WARRANTY; without even the implied warranty of</font></i>
<i><font color="#9A1900">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</font></i>
<i><font color="#9A1900">   GNU General Public License for more details.</font></i>

<i><font color="#9A1900">   You should have received a copy of the GNU General Public License</font></i>
<i><font color="#9A1900">   along with this program.  If not, see </font></i><u><font color="#0000FF">&lt;http://www.gnu.org/licenses/&gt;</font></u><i><font color="#9A1900">.</font></i>
<i><font color="#9A1900">*/</font></i>

<b><font color="#000080">#include</font></b> <font color="#FF0000">"../common/defs.h"</font>
<b><font color="#000080">#include</font></b> <font color="#FF0000">"../common/extern.h"</font>
<b><font color="#000080">#include</font></b> <font color="#FF0000">"curses_include.h"</font>

<font color="#009900">int</font> <b><font color="#000000">nonblockscan</font></b><font color="#990000">(</font><font color="#009900">int</font> <font color="#990000">*</font>control<font color="#990000">)</font>
<font color="#FF0000">{</font>
  <b><font color="#0000FF">static</font></b> <font color="#009900">char</font> buf<font color="#990000">[</font><font color="#993399">128</font><font color="#990000">];</font>
  <b><font color="#0000FF">static</font></b> <font color="#009900">char</font> <font color="#990000">*</font>inputstring<font color="#990000">;</font>
  <b><font color="#0000FF">static</font></b> <font color="#009900">int</font> iZeroOneTwo <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font> <i><font color="#9A1900">/* 0, 1, 2 */</font></i>

  inputstring <font color="#990000">=</font> <font color="#990000">&amp;</font>buf<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">];</font>

  <font color="#009900">int</font> c <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
  <font color="#009900">int</font> ret<font color="#990000">;</font>

  <b><font color="#000000">nodelay</font></b><font color="#990000">(</font>stdscr<font color="#990000">,</font>TRUE<font color="#990000">);</font>
  <b><font color="#000000">noecho</font></b><font color="#990000">();</font>
  c <font color="#990000">=</font> <b><font color="#000000">getch</font></b><font color="#990000">();</font>
  <b><font color="#000000">echo</font></b><font color="#990000">();</font>
  <b><font color="#000000">nodelay</font></b><font color="#990000">(</font>stdscr<font color="#990000">,</font>FALSE<font color="#990000">);</font>
    
  <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <b><font color="#000000">isdigit</font></b><font color="#990000">(</font>c<font color="#990000">)</font> <font color="#990000">)</font>
  <font color="#FF0000">{</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%c"</font><font color="#990000">,</font>c<font color="#990000">);</font>
    <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

    <b><font color="#0000FF">if</font></b><font color="#990000">(</font> iZeroOneTwo <font color="#990000">==</font> <font color="#993399">3</font> <font color="#990000">)</font>
    <font color="#FF0000">{</font>
      iZeroOneTwo <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

      inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">=</font> inputstring<font color="#990000">[</font><font color="#993399">1</font><font color="#990000">]</font> <font color="#990000">=</font> inputstring<font color="#990000">[</font><font color="#993399">2</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
    <font color="#FF0000">}</font>

    inputstring<font color="#990000">[</font>iZeroOneTwo<font color="#990000">]</font> <font color="#990000">=</font> c<font color="#990000">;</font>
    iZeroOneTwo<font color="#990000">++;</font>
  <font color="#FF0000">}</font>

  <b><font color="#0000FF">if</font></b><font color="#990000">(</font> c <font color="#990000">==</font> <font color="#FF0000">'</font><font color="#CC33CC">\n</font><font color="#FF0000">'</font> <font color="#990000">)</font>
  <font color="#FF0000">{</font>
    ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
    <font color="#009900">int</font> retscan <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,&amp;</font>ret<font color="#990000">);</font>

    <b><font color="#0000FF">if</font></b><font color="#990000">(</font> retscan <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> retscan <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">)</font>
      ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

    inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">=</font> inputstring<font color="#990000">[</font><font color="#993399">1</font><font color="#990000">]</font> <font color="#990000">=</font> inputstring<font color="#990000">[</font><font color="#993399">2</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
    iZeroOneTwo <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font> <i><font color="#9A1900">/* 0, 1, 2 */</font></i>

    <b><font color="#0000FF">return</font></b> ret<font color="#990000">;</font>
  <font color="#FF0000">}</font>

  <i><font color="#9A1900">// reset input buffer on all action keys...</font></i>
  <b><font color="#0000FF">if</font></b><font color="#990000">(</font> c <font color="#990000">==</font> KEY_RIGHT <font color="#990000">||</font> c <font color="#990000">==</font> KEY_LEFT <font color="#990000">||</font> c <font color="#990000">==</font> KEY_DOWN <font color="#990000">||</font> c <font color="#990000">==</font> KEY_UP <font color="#990000">||</font> 
      c <font color="#990000">==</font> <font color="#FF0000">'</font><font color="#CC33CC">\t</font><font color="#FF0000">'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">'j'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">'k'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">'h'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">'l'</font> <font color="#990000">)</font>
  <font color="#FF0000">{</font>
    inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">=</font> inputstring<font color="#990000">[</font><font color="#993399">1</font><font color="#990000">]</font> <font color="#990000">=</font> inputstring<font color="#990000">[</font><font color="#993399">2</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

    iZeroOneTwo <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font> <i><font color="#9A1900">/* 0, 1, 2 */</font></i>

    <font color="#990000">*</font>control <font color="#990000">=</font> c<font color="#990000">;</font>

    <b><font color="#0000FF">return</font></b> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
  <font color="#FF0000">}</font>

  <i><font color="#9A1900">// User hit ESC key or Quit</font></i>
  <b><font color="#0000FF">if</font></b><font color="#990000">(</font> c <font color="#990000">==</font> <font color="#993399">27</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">'q'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">'Q'</font> <font color="#990000">)</font>
  <font color="#FF0000">{</font>
    <b><font color="#000000">quit</font></b><font color="#990000">(</font><font color="#993399">0</font><font color="#990000">);</font>
  <font color="#FF0000">}</font>

  <b><font color="#0000FF">return</font></b> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
<font color="#FF0000">}</font>

<font color="#009900">int</font> <b><font color="#000000">select_model</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">_properties</font> <font color="#990000">*</font>properties<font color="#990000">)</font>
<font color="#FF0000">{</font>
  <b><font color="#000000">clear</font></b><font color="#990000">();</font>

  <i><font color="#9A1900">/* curses stuff */</font></i>
  <font color="#009900">int</font> height<font color="#990000">,</font>width<font color="#990000">;</font>
   
  <i><font color="#9A1900">/* curses, get screen size */</font></i>
  <b><font color="#000000">getmaxyx</font></b><font color="#990000">(</font>stdscr<font color="#990000">,</font> height<font color="#990000">,</font> width<font color="#990000">);</font>

  <font color="#009900">int</font> row <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>
  <font color="#009900">bool</font> redraw <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
  <font color="#009900">int</font> start <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
  <font color="#009900">int</font> optiontype<font color="#990000">;</font>
  <font color="#009900">bool</font> modelChanged <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
 
  <font color="#009900">int</font> type <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>

  <b><font color="#0000FF">while</font></b><font color="#990000">(</font> type <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">)</font>
  <font color="#FF0000">{</font>
    row <font color="#990000">=</font> <font color="#993399">2</font><font color="#990000">;</font>

    <b><font color="#000000">move</font></b><font color="#990000">(</font><font color="#993399">0</font><font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
    <b><font color="#000000">attron</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Select financial model or press enter:"</font><font color="#990000">);</font>
    <b><font color="#000000">attroff</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">" %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">+</font><font color="#993399">1</font><font color="#990000">);</font>

    <b><font color="#000000">move</font></b><font color="#990000">(</font><font color="#993399">0</font><font color="#990000">,</font><font color="#993399">53</font><font color="#990000">);</font>
    <b><font color="#000000">attron</font></b><font color="#990000">(</font>A_BOLD<font color="#990000">);</font>
    <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Arrow Down For More Models"</font><font color="#990000">);</font>
    <b><font color="#000000">attroff</font></b><font color="#990000">(</font>A_BOLD<font color="#990000">);</font>
    <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

    <font color="#009900">int</font> x <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>
    <b><font color="#0000FF">for</font></b><font color="#990000">(</font> x <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font> x <font color="#990000">&lt;=</font> <font color="#990000">(</font>height<font color="#990000">-</font><font color="#993399">1</font><font color="#990000">);</font> x<font color="#990000">++</font> <font color="#990000">)</font>
    <font color="#FF0000">{</font>
       <b><font color="#000000">move</font></b><font color="#990000">(</font>x<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
    <font color="#FF0000">}</font>

    <b><font color="#0000FF">const</font></b> <font color="#009900">int</font> numberofmodels <font color="#990000">=</font> <font color="#990000">(</font><font color="#009900">signed</font><font color="#990000">)(</font>sizeofoption_algorithms<font color="#990000">/</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">option_algorithm</font><font color="#990000">));</font>
    
    <b><font color="#0000FF">for</font></b><font color="#990000">(</font> optiontype<font color="#990000">=</font>start<font color="#990000">;</font> optiontype<font color="#990000">&lt;((</font>numberofmodels<font color="#990000">-</font>start<font color="#990000">&gt;((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)*</font><font color="#993399">3</font><font color="#990000">))?((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)*</font><font color="#993399">3</font><font color="#990000">)+</font>start<font color="#990000">:</font>numberofmodels<font color="#990000">);</font> optiontype<font color="#990000">++</font> <font color="#990000">)</font>
    <font color="#FF0000">{</font>
      
      <b><font color="#0000FF">if</font></b><font color="#990000">(</font> optiontype<font color="#990000">==((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)+</font>start<font color="#990000">)</font> <font color="#990000">||</font> optiontype<font color="#990000">==((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)*</font><font color="#993399">2</font><font color="#990000">+</font>start<font color="#990000">)</font> <font color="#990000">)</font>
        row <font color="#990000">=</font> <font color="#993399">2</font><font color="#990000">;</font>

      <b><font color="#0000FF">if</font></b><font color="#990000">(</font> optiontype<font color="#990000">&lt;((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)+</font>start<font color="#990000">)</font> <font color="#990000">)</font>
        <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

      <b><font color="#0000FF">if</font></b><font color="#990000">(</font> optiontype<font color="#990000">&gt;=((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)+</font>start<font color="#990000">)</font> <font color="#990000">&amp;&amp;</font> optiontype <font color="#990000">&lt;</font> <font color="#990000">((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)*</font><font color="#993399">2</font><font color="#990000">+</font>start<font color="#990000">)</font> <font color="#990000">)</font>
        <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">23</font><font color="#990000">);</font>

      <b><font color="#0000FF">if</font></b><font color="#990000">(</font> optiontype<font color="#990000">&gt;=((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)*</font><font color="#993399">2</font><font color="#990000">+</font>start<font color="#990000">)</font> <font color="#990000">)</font>
        <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">50</font><font color="#990000">);</font>

      <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>modeltype <font color="#990000">==</font> optiontype <font color="#990000">)</font>
      <font color="#FF0000">{</font>
        <b><font color="#000000">attron</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>
        <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"---&gt;"</font><font color="#990000">);</font>
        <b><font color="#000000">attroff</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>

      <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
      <font color="#FF0000">{</font>
        <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"    "</font><font color="#990000">);</font>
      <font color="#FF0000">}</font>

      <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%d=%s</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font>optiontype<font color="#990000">+</font><font color="#993399">1</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>optiontype<font color="#990000">].</font>des<font color="#990000">);</font>
      row<font color="#990000">++;</font>
    
    <font color="#FF0000">}</font>

    <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

    <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
    <font color="#FF0000">{</font>
      row <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
      <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">39</font><font color="#990000">);</font>

      <font color="#009900">int</font> control <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
      type <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>

      <b><font color="#0000FF">while</font></b><font color="#990000">(</font> type <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">)</font>
      <font color="#FF0000">{</font>
        type <font color="#990000">=</font> <b><font color="#000000">nonblockscan</font></b><font color="#990000">(&amp;</font>control<font color="#990000">);</font>
        <b><font color="#000000">usleep</font></b><font color="#990000">(</font><font color="#993399">1</font><font color="#990000">);</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> control <font color="#990000">==</font> KEY_LEFT <font color="#990000">||</font> control <font color="#990000">==</font> KEY_UP <font color="#990000">||</font> control <font color="#990000">==</font> <font color="#FF0000">'k'</font> <font color="#990000">||</font>
            control <font color="#990000">==</font> <font color="#FF0000">'h'</font> <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <font color="#990000">--</font>start <font color="#990000">&lt;</font> <font color="#993399">0</font> <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            start <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
          <font color="#FF0000">}</font>

          redraw <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>
          <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
        <font color="#FF0000">}</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> control <font color="#990000">==</font> KEY_RIGHT <font color="#990000">||</font> control <font color="#990000">==</font> KEY_DOWN <font color="#990000">||</font> control <font color="#990000">==</font> <font color="#FF0000">'</font><font color="#CC33CC">\t</font><font color="#FF0000">'</font> <font color="#990000">||</font> 
            control <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">||</font> control <font color="#990000">==</font> <font color="#FF0000">'j'</font> <font color="#990000">||</font> control <font color="#990000">==</font> <font color="#FF0000">'l'</font> <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          start<font color="#990000">++;</font>
          redraw <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>
          <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
        <font color="#FF0000">}</font>
      <font color="#FF0000">}</font>
      
      <b><font color="#0000FF">if</font></b><font color="#990000">(</font> redraw <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
      <font color="#FF0000">{</font>
        redraw <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
        type <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
        <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
      <font color="#FF0000">}</font>

      <b><font color="#0000FF">if</font></b><font color="#990000">(</font> type <font color="#990000">&gt;=</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> type<font color="#990000">&lt;(</font><font color="#993399">1</font><font color="#990000">+(</font><font color="#009900">signed</font><font color="#990000">)</font>sizeofoption_algorithms<font color="#990000">/(</font><font color="#009900">signed</font><font color="#990000">)</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">option_algorithm</font><font color="#990000">))</font> <font color="#990000">)</font>
      <font color="#FF0000">{</font>
        <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">39</font><font color="#990000">);</font>
        <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font>type<font color="#990000">);</font>
        properties<font color="#990000">-&gt;</font>modeltype <font color="#990000">=</font> type <font color="#990000">-</font> <font color="#993399">1</font><font color="#990000">;</font>
            
        <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">++,</font><font color="#993399">0</font><font color="#990000">);</font>

        <b><font color="#000000">attron</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>
        <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Select financial model or press enter:"</font><font color="#990000">);</font>
        <b><font color="#000000">attroff</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>
        <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">" %d</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">+</font><font color="#993399">1</font><font color="#990000">);</font>

        row <font color="#990000">=</font> <font color="#993399">2</font><font color="#990000">;</font>
                  
        <b><font color="#0000FF">const</font></b> <font color="#009900">int</font> numberofmodels <font color="#990000">=</font> <font color="#990000">(</font><font color="#009900">signed</font><font color="#990000">)(</font>sizeofoption_algorithms<font color="#990000">/</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">option_algorithm</font><font color="#990000">));</font>

        <b><font color="#0000FF">for</font></b><font color="#990000">(</font> optiontype <font color="#990000">=</font> start<font color="#990000">;</font> optiontype<font color="#990000">&lt;((</font>numberofmodels<font color="#990000">-</font>start<font color="#990000">&gt;((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)*</font><font color="#993399">3</font><font color="#990000">))?((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)*</font><font color="#993399">3</font><font color="#990000">)+</font>start<font color="#990000">:</font>numberofmodels<font color="#990000">);</font> optiontype<font color="#990000">++</font> <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> optiontype<font color="#990000">==((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)+</font>start<font color="#990000">)</font> <font color="#990000">||</font> optiontype<font color="#990000">==((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)*</font><font color="#993399">2</font><font color="#990000">+</font>start<font color="#990000">)</font> <font color="#990000">)</font>
            row <font color="#990000">=</font> <font color="#993399">2</font><font color="#990000">;</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> optiontype<font color="#990000">&lt;((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)+</font>start<font color="#990000">)</font> <font color="#990000">)</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                  
          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> optiontype<font color="#990000">&gt;=((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)+</font>start<font color="#990000">)</font> <font color="#990000">&amp;&amp;</font> optiontype <font color="#990000">&lt;</font> <font color="#990000">((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)*</font><font color="#993399">2</font><font color="#990000">+</font>start<font color="#990000">)</font> <font color="#990000">)</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">23</font><font color="#990000">);</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> optiontype<font color="#990000">&gt;=((</font>height<font color="#990000">-</font><font color="#993399">3</font><font color="#990000">)*</font><font color="#993399">2</font><font color="#990000">+</font>start<font color="#990000">)</font> <font color="#990000">)</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">50</font><font color="#990000">);</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>modeltype <font color="#990000">==</font> optiontype <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">attron</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"---&gt;"</font><font color="#990000">);</font>
            <b><font color="#000000">attroff</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>
          <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
          <font color="#FF0000">{</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"    "</font><font color="#990000">);</font>
          <font color="#FF0000">}</font>

          <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%d=%s</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font>optiontype<font color="#990000">+</font><font color="#993399">1</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>optiontype<font color="#990000">].</font>des<font color="#990000">);</font>

          row<font color="#990000">++;</font>
        <font color="#FF0000">}</font>

        <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

        <b><font color="#000000">usleep</font></b><font color="#990000">(</font><font color="#993399">500000</font><font color="#990000">);</font>

        modelChanged <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>

        <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            
      <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> type <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> type <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">)</font>
      <font color="#FF0000">{</font>
        <i><font color="#9A1900">/* the user just entered a &lt;ENTER&gt;</font></i>
<i><font color="#9A1900">           so just use previous value no change */</font></i>
        <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
      <font color="#FF0000">}</font>
    <font color="#FF0000">}</font>
  <font color="#FF0000">}</font>

  <b><font color="#0000FF">return</font></b> modelChanged<font color="#990000">;</font>
<font color="#FF0000">}</font>

<font color="#009900">int</font> <b><font color="#000000">get_user_inputs</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">_properties</font> <font color="#990000">*</font>properties<font color="#990000">,</font><b><font color="#0000FF">struct</font></b> <font color="#008080">_properties</font> <font color="#990000">*</font>future_properties<font color="#990000">)</font>
<font color="#FF0000">{</font>
        <font color="#009900">int</font> ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
        <font color="#009900">int</font> c<font color="#990000">;</font>
        <font color="#009900">char</font> inputstring<font color="#990000">[</font><font color="#993399">100</font><font color="#990000">]</font>  <font color="#990000">=</font> <font color="#FF0000">{</font> <font color="#993399">0</font> <font color="#FF0000">}</font><font color="#990000">;</font>
        <font color="#009900">int</font> row <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>

        properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>price <font color="#990000">=</font> <font color="#993399">100</font><font color="#990000">;</font>
        properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseZ <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
        properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseB <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
        properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseJ <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
        properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseP <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
        properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseQ <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
        properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseR <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
        properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseS <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
        properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseT <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
        properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UsePound <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
        properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#993399">1.0</font><font color="#990000">;</font>
        properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font><font color="#993399">1</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#993399">0.25</font><font color="#990000">;</font>
        properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font><font color="#993399">2</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#993399">0.25</font><font color="#990000">;</font>

        <font color="#008080">time_t</font> mytime<font color="#990000">;</font>
        <b><font color="#0000FF">struct</font></b> <font color="#008080">tm</font> <font color="#990000">*</font>my_tm<font color="#990000">;</font>

        <b><font color="#000000">time</font></b><font color="#990000">(&amp;</font>mytime<font color="#990000">);</font>
        my_tm<font color="#990000">=</font><b><font color="#000000">localtime</font></b><font color="#990000">(&amp;</font>mytime<font color="#990000">);</font>

        <b><font color="#000000">select_model</font></b><font color="#990000">(</font>properties<font color="#990000">);</font>

        row <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
        <b><font color="#000000">clear</font></b><font color="#990000">();</font>

        <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
        <font color="#FF0000">{</font>
          <b><font color="#000000">clear</font></b><font color="#990000">();</font>

          <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Model = "</font><font color="#990000">);</font>
          <b><font color="#000000">attron</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>
          <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%s"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>des<font color="#990000">);</font>
          <b><font color="#000000">attroff</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>
          <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"  Source = %s</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>source<font color="#990000">);</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <b><font color="#000000">strcmp</font></b><font color="#990000">(</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>curses_des<font color="#990000">,</font><font color="#FF0000">""</font><font color="#990000">)</font> <font color="#990000">!=</font> <font color="#993399">0</font> <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%s</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>curses_des<font color="#990000">);</font>
          <font color="#FF0000">}</font>
           
          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">!=</font> BOND_CLASS <font color="#990000">&amp;&amp;</font>
              option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">!=</font> TERMSTRUCTURE_CLASS <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">attron</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Select a screen/date style format:</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
            <b><font color="#000000">attroff</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>
          <font color="#FF0000">}</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">==</font> TERMSTRUCTURE_CLASS <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"</font><font color="#CC33CC">\t\t\t</font><font color="#FF0000">"</font><font color="#990000">);</font>
            <b><font color="#000000">attron</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Press &lt;ENTER&gt; to begin.</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
            <b><font color="#000000">attroff</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>
          <font color="#FF0000">}</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">==</font> OPTION_CLASS <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"1 - Custom stike, greeks, tickers            (decimal/date entry dated)</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"2 - Matrix strikes, tickers                  (decimal/date entry dated)</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
          <font color="#FF0000">}</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">==</font> OPTION_CLASS <font color="#990000">&amp;&amp;</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime2 <font color="#990000">!=</font> <font color="#993399">1</font> <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"3 - Strike to months matrix                  (calendar dated)</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"4 - Strike to months matrix w/ days to expr  (calendar dated)</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"5 - Strikes to month matrix                  (calendar dated)</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"6 - Strikes to month matrix w/ days to expr  (calendar dated)</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>            
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"7 - Months across column style               (calendar dated)</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"8 - Custom strike matrix                     (calendar dated)</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"9 - Three Column style                       (calendar dated)</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
          <font color="#FF0000">}</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">==</font> FUTURES_CLASS <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"1 - Single future                  (decimal/date entry dated)</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"2 - Calendar dated futures matrix  (calendar dated)</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
          <font color="#FF0000">}</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">==</font> BOND_CLASS <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Use arrow keys to change to another model or type ESC.</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
          <font color="#FF0000">}</font>

          <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>        
          <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Or select:</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>        
          <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"a - AdvProperties (use to adjust calendar expirations)   ESC - Back 1 screen</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
          <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"c - Options calendar (use to confirm expirations)          l - GNU License</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
          <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"C - Futures calendar (use to confirm expirations)          h - Help</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
          <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"m - Cycle financial models (or use TAB, arrow keys)        q - Quit</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <b><font color="#000000">DoWeHaveOptions</font></b><font color="#990000">(</font>properties<font color="#990000">)</font> <font color="#990000">)</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"d - Options Demo                                   "</font><font color="#990000">);</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <b><font color="#000000">DoWeHaveFutures</font></b><font color="#990000">(</font>properties<font color="#990000">)</font> <font color="#990000">)</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"        f - Futures Demo</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
          <b><font color="#0000FF">else</font></b>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"</font><font color="#CC33CC">\n\n</font><font color="#FF0000">"</font><font color="#990000">);</font>

          <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Feel free to resize the termial screen larger. Program scales to size.</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">);</font>
          <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

          <b><font color="#000000">noecho</font></b><font color="#990000">();</font>
          c <font color="#990000">=</font> <b><font color="#000000">getch</font></b><font color="#990000">();</font>
          <b><font color="#000000">echo</font></b><font color="#990000">();</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> c <font color="#990000">==</font> <font color="#FF0000">'h'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">'H'</font> <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">clear</font></b><font color="#990000">();</font>

            <b><font color="#000000">simple_help</font></b><font color="#990000">(</font>properties<font color="#990000">);</font>

            c <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
             
          <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> c <font color="#990000">==</font> <font color="#FF0000">'m'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">||</font> c <font color="#990000">==</font> KEY_RIGHT <font color="#990000">||</font> c <font color="#990000">==</font> KEY_DOWN <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">'</font><font color="#CC33CC">\t</font><font color="#FF0000">'</font> <font color="#990000">||</font>
                     c <font color="#990000">==</font> <font color="#FF0000">'j'</font> <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">clear</font></b><font color="#990000">();</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font><font color="#993399">0</font><font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
            <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
              
            <b><font color="#0000FF">if</font></b><font color="#990000">(++</font>properties<font color="#990000">-&gt;</font>modeltype <font color="#990000">&gt;=</font> <font color="#990000">(</font><font color="#009900">signed</font><font color="#990000">)(</font>sizeofoption_algorithms<font color="#990000">/</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">option_algorithm</font><font color="#990000">)))</font>
            <font color="#FF0000">{</font>
              properties<font color="#990000">-&gt;</font>modeltype <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
            <font color="#FF0000">}</font>

            c <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

            <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>

          <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> c <font color="#990000">==</font> <font color="#FF0000">'M'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">||</font> c <font color="#990000">==</font> KEY_LEFT <font color="#990000">||</font> c <font color="#990000">==</font> KEY_UP <font color="#990000">||</font>
                     c <font color="#990000">==</font> <font color="#FF0000">'k'</font> <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">clear</font></b><font color="#990000">();</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font><font color="#993399">0</font><font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
            <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <font color="#990000">--</font>properties<font color="#990000">-&gt;</font>modeltype <font color="#990000">&lt;</font> <font color="#993399">0</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              properties<font color="#990000">-&gt;</font>modeltype <font color="#990000">=</font> <font color="#990000">(</font>sizeofoption_algorithms<font color="#990000">/(</font><font color="#009900">signed</font><font color="#990000">)</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font><b><font color="#0000FF">struct</font></b> <font color="#008080">option_algorithm</font><font color="#990000">)-</font><font color="#993399">1</font><font color="#990000">);</font>
            <font color="#FF0000">}</font>

            c <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

            <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>

          <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> c <font color="#990000">==</font> <font color="#FF0000">'l'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">'L'</font> <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">clear</font></b><font color="#990000">();</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font><font color="#993399">0</font><font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"</font><font color="#CC33CC">\n\n\n\n\n</font><font color="#FF0000">%s</font><font color="#CC33CC">\n\n\n\n\n\n\n\n\n</font><font color="#FF0000">"</font><font color="#990000">,</font>license<font color="#990000">);</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"</font><font color="#CC33CC">\t\t\t</font><font color="#FF0000">"</font><font color="#990000">);</font>
            <b><font color="#000000">attron</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"&lt;&lt;&lt; Press any key to return &gt;&gt;&gt;"</font><font color="#990000">);</font> 
            <b><font color="#000000">attroff</font></b><font color="#990000">(</font>A_STANDOUT<font color="#990000">);</font>

            <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
              
            <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

            <b><font color="#000000">noecho</font></b><font color="#990000">();</font>
            <b><font color="#000000">getch</font></b><font color="#990000">();</font>
            <b><font color="#000000">echo</font></b><font color="#990000">();</font>
              
            c <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

            <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>

          <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> c <font color="#990000">==</font> <font color="#FF0000">'f'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">'F'</font> <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <b><font color="#000000">DoWeHaveFutures</font></b><font color="#990000">(</font>properties<font color="#990000">)</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <i><font color="#9A1900">/* do a futures demo */</font></i>
              properties<font color="#990000">-&gt;</font>format <font color="#990000">=</font> DEMO_FUTURES<font color="#990000">;</font>
              properties<font color="#990000">-&gt;</font>decimalorcalendar <font color="#990000">=</font> CALENDAR<font color="#990000">;</font>

              <b><font color="#000000">clear</font></b><font color="#990000">();</font>
              <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

              <b><font color="#0000FF">return</font></b> <font color="#993399">0</font><font color="#990000">;</font>
            <font color="#FF0000">}</font>
              
          <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> c <font color="#990000">==</font> <font color="#FF0000">'d'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">'D'</font> <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <i><font color="#9A1900">/* do a demo options demo */</font></i>
            properties<font color="#990000">-&gt;</font>format <font color="#990000">=</font> DEMO_OPTIONS<font color="#990000">;</font>
            properties<font color="#990000">-&gt;</font>decimalorcalendar <font color="#990000">=</font> DECIMALS<font color="#990000">;</font>

            <b><font color="#000000">clear</font></b><font color="#990000">();</font>
            <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
            
            <b><font color="#0000FF">return</font></b> <font color="#993399">0</font><font color="#990000">;</font>
              
          <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> c <font color="#990000">==</font> <font color="#FF0000">'a'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">'A'</font> <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <i><font color="#9A1900">/*</font></i>
<i><font color="#9A1900">               if the user changes the expiration information</font></i>
<i><font color="#9A1900">               the expires() functions are run at the end</font></i>
<i><font color="#9A1900">               of inputs()</font></i>
<i><font color="#9A1900">            */</font></i>
            <b><font color="#000000">props</font></b><font color="#990000">(</font>properties<font color="#990000">,</font>future_properties<font color="#990000">);</font>

            <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>
              
          <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> c <font color="#990000">==</font> <font color="#FF0000">'c'</font> <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">calendar</font></b><font color="#990000">(</font>properties<font color="#990000">);</font>

            <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>

          <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> c <font color="#990000">==</font> <font color="#FF0000">'C'</font> <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">calendar</font></b><font color="#990000">(</font>future_properties<font color="#990000">);</font>

            <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>

          <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> c <font color="#990000">==</font> <font color="#FF0000">'b'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">'B'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">'!'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#993399">27</font> <font color="#990000">)</font> <i><font color="#9A1900">// B for back or ! or ESC key</font></i>
          <font color="#FF0000">{</font>
            <b><font color="#0000FF">return</font></b> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>

          <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b> <font color="#990000">(</font> c <font color="#990000">==</font> <font color="#FF0000">'q'</font> <font color="#990000">||</font> c <font color="#990000">==</font> <font color="#FF0000">'Q'</font> <font color="#990000">)</font>
          <font color="#FF0000">{</font>
            <i><font color="#9A1900">/* quit */</font></i>
            <b><font color="#000000">quit</font></b><font color="#990000">(</font><font color="#993399">0</font><font color="#990000">);</font>
              
          <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
          <font color="#FF0000">{</font>
            <font color="#009900">char</font> buf<font color="#990000">[</font><font color="#993399">128</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#FF0000">{</font> <font color="#993399">0</font> <font color="#FF0000">}</font><font color="#990000">;</font>
            <b><font color="#000000">sprintf</font></b><font color="#990000">(</font>buf<font color="#990000">,</font><font color="#FF0000">"%c"</font><font color="#990000">,</font>c<font color="#990000">);</font>

            <font color="#009900">int</font> x <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
            <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>buf<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,&amp;</font>x<font color="#990000">);</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">!=</font> FUTURES_CLASS <font color="#990000">&amp;&amp;</font>
               option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime2 <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font>
               <font color="#990000">(</font> x <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">||</font> x <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font> <font color="#990000">)</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
          
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">!=</font> FUTURES_CLASS <font color="#990000">&amp;&amp;</font>
               option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime2 <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font>
               <font color="#990000">(</font> x <font color="#990000">&gt;=</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> x <font color="#990000">&lt;=</font> <font color="#993399">9</font> <font color="#990000">)</font> <font color="#990000">)</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">!=</font> FUTURES_CLASS <font color="#990000">&amp;&amp;</font>
               option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime2 <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">&amp;&amp;</font>
               <font color="#990000">(</font> x <font color="#990000">&gt;=</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> x <font color="#990000">&lt;=</font> <font color="#993399">9</font> <font color="#990000">)</font> <font color="#990000">)</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">==</font> FUTURES_CLASS <font color="#990000">&amp;&amp;</font>
               <font color="#990000">(</font>x <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">||</font> x <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font> <font color="#990000">)</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

          <font color="#FF0000">}</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">==</font> TERMSTRUCTURE_CLASS <font color="#990000">)</font>
            <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

        <font color="#FF0000">}</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">==</font> BOND_CLASS <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          <b><font color="#0000FF">return</font></b> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
        <font color="#FF0000">}</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">==</font> FUTURES_CLASS <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          <b><font color="#0000FF">switch</font></b><font color="#990000">(</font>c<font color="#990000">)</font>
          <font color="#FF0000">{</font>
             <b><font color="#0000FF">case</font></b> <font color="#FF0000">'1'</font><font color="#990000">:</font>

               properties<font color="#990000">-&gt;</font>optionscycle <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

               properties<font color="#990000">-&gt;</font>format <font color="#990000">=</font> DECIMAL_FUTURE<font color="#990000">;</font>
               properties<font color="#990000">-&gt;</font>decimalorcalendar <font color="#990000">=</font> DECIMALS<font color="#990000">;</font>

               <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

             <b><font color="#0000FF">case</font></b> <font color="#FF0000">'2'</font><font color="#990000">:</font>
             
               properties<font color="#990000">-&gt;</font>optionscycle <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

               properties<font color="#990000">-&gt;</font>format <font color="#990000">=</font> CALENDAR_FUTURE<font color="#990000">;</font>
               properties<font color="#990000">-&gt;</font>decimalorcalendar <font color="#990000">=</font> CALENDAR<font color="#990000">;</font>

               <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

          <font color="#FF0000">}</font>

        <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">==</font> OPTION_CLASS <font color="#990000">)</font>
        <font color="#FF0000">{</font>

          <b><font color="#0000FF">switch</font></b><font color="#990000">(</font>c<font color="#990000">)</font>
          <font color="#FF0000">{</font>
             <b><font color="#0000FF">case</font></b> <font color="#FF0000">'1'</font><font color="#990000">:</font>

               properties<font color="#990000">-&gt;</font>format <font color="#990000">=</font> DECIMAL_GREEKS<font color="#990000">;</font>
               properties<font color="#990000">-&gt;</font>decimalorcalendar <font color="#990000">=</font> DECIMALS<font color="#990000">;</font>

               <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

             <b><font color="#0000FF">case</font></b> <font color="#FF0000">'2'</font><font color="#990000">:</font>

               properties<font color="#990000">-&gt;</font>format<font color="#990000">=</font> DECIMAL_OPTIONS<font color="#990000">;</font>
               properties<font color="#990000">-&gt;</font>decimalorcalendar <font color="#990000">=</font> DECIMALS<font color="#990000">;</font>

               <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

             <b><font color="#0000FF">case</font></b> <font color="#FF0000">'3'</font><font color="#990000">:</font>

               properties<font color="#990000">-&gt;</font>format <font color="#990000">=</font> CALENDAR_OPTIONS1<font color="#990000">;</font>
               properties<font color="#990000">-&gt;</font>decimalorcalendar <font color="#990000">=</font> CALENDAR<font color="#990000">;</font>

               <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

             <b><font color="#0000FF">case</font></b> <font color="#FF0000">'4'</font><font color="#990000">:</font>

               properties<font color="#990000">-&gt;</font>format<font color="#990000">=</font> CALENDAR_OPTIONS2<font color="#990000">;</font>
               properties<font color="#990000">-&gt;</font>decimalorcalendar<font color="#990000">=</font>CALENDAR<font color="#990000">;</font>

               <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

             <b><font color="#0000FF">case</font></b> <font color="#FF0000">'5'</font><font color="#990000">:</font>
              
               properties<font color="#990000">-&gt;</font>format <font color="#990000">=</font> CALENDAR_OPTIONS3<font color="#990000">;</font>
               properties<font color="#990000">-&gt;</font>decimalorcalendar <font color="#990000">=</font> CALENDAR<font color="#990000">;</font>

               <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

             <b><font color="#0000FF">case</font></b> <font color="#FF0000">'6'</font><font color="#990000">:</font>

               properties<font color="#990000">-&gt;</font>format <font color="#990000">=</font> CALENDAR_OPTIONS4<font color="#990000">;</font>
               properties<font color="#990000">-&gt;</font>decimalorcalendar <font color="#990000">=</font> CALENDAR<font color="#990000">;</font>
                  
               <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

             <b><font color="#0000FF">case</font></b> <font color="#FF0000">'7'</font><font color="#990000">:</font>

               properties<font color="#990000">-&gt;</font>format <font color="#990000">=</font> CALENDAR_OPTIONS5<font color="#990000">;</font>
               properties<font color="#990000">-&gt;</font>decimalorcalendar <font color="#990000">=</font> CALENDAR<font color="#990000">;</font>

               <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

             <b><font color="#0000FF">case</font></b> <font color="#FF0000">'8'</font><font color="#990000">:</font>

               properties<font color="#990000">-&gt;</font>format <font color="#990000">=</font> CALENDAR_CUSTOM<font color="#990000">;</font>
               properties<font color="#990000">-&gt;</font>decimalorcalendar <font color="#990000">=</font> CALENDAR<font color="#990000">;</font>

               <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

             <b><font color="#0000FF">case</font></b> <font color="#FF0000">'9'</font><font color="#990000">:</font>

               properties<font color="#990000">-&gt;</font>format <font color="#990000">=</font> CALENDAR_OPTIONS6<font color="#990000">;</font>
               properties<font color="#990000">-&gt;</font>decimalorcalendar <font color="#990000">=</font> CALENDAR<font color="#990000">;</font>

               <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
    
          <font color="#FF0000">}</font>

        <font color="#FF0000">}</font>

        <b><font color="#000000">clear</font></b><font color="#990000">();</font>
        row <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportPrice <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>price <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

          <font color="#990000">++</font>row<font color="#990000">;</font>
          <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>                   
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : "</font><font color="#990000">,</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>price<font color="#990000">);</font>
            <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

            <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
            <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>
            ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf"</font><font color="#990000">,&amp;</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>price<font color="#990000">);</font>

            <i><font color="#9A1900">/* don't let the user enter a zero or negative */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>price <font color="#990000">&gt;</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>
          <font color="#FF0000">}</font>
        <font color="#FF0000">}</font>

        <i><font color="#9A1900">/*****************************************************************/</font></i>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportDividend <font color="#990000">&amp;&amp;</font>
            option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportDividend <font color="#990000">!=</font> <font color="#993399">3</font> <font color="#990000">&amp;&amp;</font>
            option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportDividend <font color="#990000">!=</font> <font color="#993399">4</font> <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>dividend <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

          <font color="#990000">++</font>row<font color="#990000">;</font>
          <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportDividend <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : "</font><font color="#990000">,</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>dividend<font color="#990000">);</font>
            <font color="#FF0000">}</font>
            <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportDividend <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.2f"</font><font color="#990000">,</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>dividend<font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>defaultDividend<font color="#990000">);</font>
            <font color="#FF0000">}</font>

            <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">43</font><font color="#990000">);</font>

            <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
            <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>
            properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>dividend <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
            ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf"</font><font color="#990000">,&amp;</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>dividend<font color="#990000">);</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportDividend <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <i><font color="#9A1900">/* allow zero and just enter */</font></i>
              <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>dividend <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
              <font color="#FF0000">{</font>
                <b><font color="#0000FF">if</font></b><font color="#990000">(</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
                   properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>dividend <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

                <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">43</font><font color="#990000">);</font>
                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%.2f"</font><font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>dividend<font color="#990000">);</font>

                ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
                <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
              <font color="#FF0000">}</font>
            <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportDividend <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <i><font color="#9A1900">/* allow the user to just hit enter and take the defaults */</font></i>
              <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
              <font color="#FF0000">{</font>
                <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>dividend <font color="#990000">=</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>defaultDividend<font color="#990000">;</font>
                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.2f"</font><font color="#990000">,</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>dividend<font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>defaultDividend<font color="#990000">);</font>

                <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
                <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
              <font color="#FF0000">}</font>

              <i><font color="#9A1900">// take the entered dividend...</font></i>
              <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
              <font color="#FF0000">{</font>
                <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">43</font><font color="#990000">);</font>
                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%.2f"</font><font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>dividend<font color="#990000">);</font>

                ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
                <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
              <font color="#FF0000">}</font>
            <font color="#FF0000">}</font>
          <font color="#FF0000">}</font>
        <font color="#FF0000">}</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <font color="#990000">(</font> properties<font color="#990000">-&gt;</font>format <font color="#990000">==</font> DECIMAL_GREEKS <font color="#990000">||</font> properties<font color="#990000">-&gt;</font>format <font color="#990000">==</font> CALENDAR_CUSTOM <font color="#990000">)</font> <font color="#990000">&amp;&amp;</font>
            option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportStrikes <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          properties<font color="#990000">-&gt;</font>customstrike <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

          <font color="#990000">++</font>row<font color="#990000">;</font>
          <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

            <i><font color="#9A1900">/* next line generally %s="Strike" */</font></i>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : "</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>strike<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>customstrike<font color="#990000">);</font>
            <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

            <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
            <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>
            ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf"</font><font color="#990000">,&amp;</font>properties<font color="#990000">-&gt;</font>customstrike<font color="#990000">);</font>

            <i><font color="#9A1900">/* don't let the user enter a zero, negative or just hit enter */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>customstrike <font color="#990000">&gt;</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>
          <font color="#FF0000">}</font>
        <font color="#FF0000">}</font>

        <b><font color="#0000FF">if</font></b> <font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportRate <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>rate <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
          <font color="#990000">++</font>row<font color="#990000">;</font>
          <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter interest rate          (%s05 = 5%%)  : "</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>lc<font color="#990000">-&gt;</font>mon_decimal_point <font color="#990000">);</font>
            <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

            <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
            <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>
            ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf"</font><font color="#990000">,&amp;</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>rate<font color="#990000">);</font>

            <i><font color="#9A1900">/* allow positive, negative and zero interest rate */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
              <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">43</font><font color="#990000">);</font>
              <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"%.2f%%"</font><font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>rate<font color="#990000">*</font><font color="#993399">100</font><font color="#990000">);</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>
          <font color="#FF0000">}</font>
        <font color="#FF0000">}</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <font color="#990000">(</font>properties<font color="#990000">-&gt;</font>format<font color="#990000">==</font>DECIMAL_OPTIONS <font color="#990000">||</font> properties<font color="#990000">-&gt;</font>format<font color="#990000">==</font>DECIMAL_FUTURE <font color="#990000">||</font> properties<font color="#990000">-&gt;</font>format<font color="#990000">==</font>DECIMAL_GREEKS <font color="#990000">||</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime2<font color="#990000">)</font> <font color="#990000">&amp;&amp;</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>perpetual <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">)</font>

        <font color="#FF0000">{</font>
          <font color="#009900">int</font> rollgeskewhaley_counter <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

          <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
          <font color="#FF0000">{</font>
            <font color="#990000">++</font>row<font color="#990000">;</font>
            <font color="#009900">int</font> expiration_day <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">,</font> expiration_month <font color="#990000">=-</font><font color="#993399">1</font><font color="#990000">,</font> expiration_year <font color="#990000">=-</font><font color="#993399">1</font><font color="#990000">;</font>
            <font color="#009900">int</font> expiration_hour <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">,</font> expiration_minute <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">,</font>expiration_second <font color="#990000">=-</font><font color="#993399">1</font><font color="#990000">;</font>
            <font color="#009900">int</font> daysaway<font color="#990000">;</font>
            <font color="#009900">int</font> decimaldateentered <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
            <font color="#009900">int</font> ret2 <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
            <font color="#009900">int</font> timecursesrow<font color="#990000">;</font>

            <font color="#009900">char</font> buf<font color="#990000">[</font><font color="#993399">128</font><font color="#990000">]</font> <font color="#990000">=</font> <font color="#FF0000">{</font> <font color="#993399">0</font> <font color="#FF0000">}</font><font color="#990000">;</font>
            <b><font color="#0000FF">const</font></b> <font color="#009900">char</font> <font color="#990000">*</font><b><font color="#0000FF">const</font></b> mmddyy <font color="#990000">=</font> <font color="#FF0000">"date MM/DD/YY"</font><font color="#990000">;</font>

            <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
            <font color="#FF0000">{</font>
              timecursesrow <font color="#990000">=</font> row<font color="#990000">;</font>
              <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

              <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime2 <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">&amp;&amp;</font>
                 properties<font color="#990000">-&gt;</font>decimalorcalendar <font color="#990000">==</font> CALENDAR <font color="#990000">)</font>
              <font color="#FF0000">{</font>
                rollgeskewhaley_counter <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>
              <font color="#FF0000">}</font>

              <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime2 <font color="#990000">&amp;&amp;</font> rollgeskewhaley_counter <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
              <font color="#FF0000">{</font>
                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Time to %-17s(%s25=1/4 year)</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime2des<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>lc<font color="#990000">-&gt;</font>mon_decimal_point<font color="#990000">);</font>
                <b><font color="#000000">sprintf</font></b><font color="#990000">(</font>buf<font color="#990000">,</font><font color="#FF0000">"%s %s"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime2des<font color="#990000">,</font>mmddyy<font color="#990000">);</font>
                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"or %-*s: "</font><font color="#990000">,</font><font color="#993399">34</font> <font color="#990000">+</font> <b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>mmddyy<font color="#990000">),</font>buf<font color="#990000">);</font>

              <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
              <font color="#FF0000">{</font>
                <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>assetClass <font color="#990000">==</font> TERMSTRUCTURE_CLASS <font color="#990000">)</font>
                <font color="#FF0000">{</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Time to %-17s(%s25=1/4 year)</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime1des<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>lc<font color="#990000">-&gt;</font>mon_decimal_point<font color="#990000">);</font>
                  <b><font color="#000000">sprintf</font></b><font color="#990000">(</font>buf<font color="#990000">,</font><font color="#FF0000">"%s %s"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime1des<font color="#990000">,</font>mmddyy<font color="#990000">);</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"or %-*s: "</font><font color="#990000">,</font><font color="#993399">34</font> <font color="#990000">+</font> <b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>mmddyy<font color="#990000">),</font>buf<font color="#990000">);</font>

                <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
                <font color="#FF0000">{</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Time to expiration       (%s25=1/4 year)</font><font color="#CC33CC">\n</font><font color="#FF0000">"</font><font color="#990000">,</font>properties<font color="#990000">-&gt;</font>lc<font color="#990000">-&gt;</font>mon_decimal_point<font color="#990000">);</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"or expiration date MM/DD/YY              : "</font><font color="#990000">);</font>
                <font color="#FF0000">}</font>
              <font color="#FF0000">}</font>

              <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
              <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>
 
              <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime2 <font color="#990000">&amp;&amp;</font> rollgeskewhaley_counter <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
              <font color="#FF0000">{</font>
                ret2 <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf/%d/%d"</font><font color="#990000">,&amp;</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">],&amp;</font>expiration_day<font color="#990000">,&amp;</font>expiration_year<font color="#990000">);</font>
              <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
              <font color="#FF0000">{</font>
                ret2 <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf/%d/%d"</font><font color="#990000">,&amp;</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">],&amp;</font>expiration_day<font color="#990000">,&amp;</font>expiration_year<font color="#990000">);</font>
              <font color="#FF0000">}</font>

              <i><font color="#9A1900">/* don't let the user enter a zero or negative */</font></i>
              <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">]</font> <font color="#990000">&gt;</font> <font color="#993399">0.0</font> <font color="#990000">&amp;&amp;</font> ret2 <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
              <font color="#FF0000">{</font>
                <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

                <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime2 <font color="#990000">&amp;&amp;</font> rollgeskewhaley_counter <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
                <font color="#FF0000">{</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Time to %-17s(%s25=1/4 year)  : %.*f %.*f days %s"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime2des<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>lc<font color="#990000">-&gt;</font>mon_decimal_point<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>precision<font color="#990000">+</font><font color="#993399">2</font><font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">],((</font>properties<font color="#990000">-&gt;</font>precision<font color="#990000">&lt;=</font><font color="#993399">2</font><font color="#990000">)?</font><font color="#993399">2</font><font color="#990000">:</font>properties<font color="#990000">-&gt;</font>precision<font color="#990000">-</font><font color="#993399">4</font><font color="#990000">),(</font><font color="#993399">365</font><font color="#990000">*</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">]),</font><b><font color="#000000">decimal_date_to_real_date</font></b><font color="#990000">(</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">]));</font>

                <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
                <font color="#FF0000">{</font>
                  <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Time to %-17s(%s25=1/4 year)  : %.*f %.*f days %s"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime1des<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>lc<font color="#990000">-&gt;</font>mon_decimal_point<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>precision<font color="#990000">+</font><font color="#993399">2</font><font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">],((</font>properties<font color="#990000">-&gt;</font>precision<font color="#990000">&lt;=</font><font color="#993399">2</font><font color="#990000">)?</font><font color="#993399">2</font><font color="#990000">:</font>properties<font color="#990000">-&gt;</font>precision<font color="#990000">-</font><font color="#993399">4</font><font color="#990000">),(</font><font color="#993399">365</font><font color="#990000">*</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">]),</font><b><font color="#000000">decimal_date_to_real_date</font></b><font color="#990000">(</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">]));</font>
                <font color="#FF0000">}</font>

                <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">+</font><font color="#993399">1</font><font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

                decimaldateentered <font color="#990000">=</font> <font color="#993399">1</font><font color="#990000">;</font>

                <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
              <font color="#FF0000">}</font>

              <i><font color="#9A1900">/* User entered MM/DD/YY */</font></i>
              <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret2 <font color="#990000">==</font> <font color="#993399">3</font> <font color="#990000">&amp;&amp;</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">]</font> <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> expiration_day <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> expiration_year <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">)</font>
              <font color="#FF0000">{</font>

                <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <b><font color="#000000">validate_date</font></b><font color="#990000">(</font> expiration_day<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">],</font>expiration_year<font color="#990000">)</font> <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">)</font>
                <font color="#FF0000">{</font>
                  expiration_month<font color="#990000">=</font> <font color="#990000">(</font><font color="#009900">int</font><font color="#990000">)</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">];</font>

                  daysaway <font color="#990000">=</font> <b><font color="#000000">date_to_days_away</font></b><font color="#990000">(</font>expiration_day<font color="#990000">,</font>expiration_month<font color="#990000">,</font>expiration_year<font color="#990000">);</font>

                  <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
                  
                <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> 
                <font color="#FF0000">{</font>
                  <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>
                <font color="#FF0000">}</font>

              <font color="#FF0000">}</font>
              <i><font color="#9A1900">/* User entered MM/DD let get and use this year */</font></i>
              <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret2 <font color="#990000">==</font> <font color="#993399">2</font>  <font color="#990000">&amp;&amp;</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">]</font> <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> expiration_day <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">)</font>
              <font color="#FF0000">{</font>
                expiration_year <font color="#990000">=</font> my_tm<font color="#990000">-&gt;</font>tm_year<font color="#990000">-</font><font color="#993399">100</font><font color="#990000">;</font>

                <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <b><font color="#000000">validate_date</font></b><font color="#990000">(</font> expiration_day<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">],</font>expiration_year<font color="#990000">)</font> <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">)</font>
                <font color="#FF0000">{</font>
                  expiration_month <font color="#990000">=</font> <font color="#990000">(</font><font color="#009900">int</font><font color="#990000">)</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">];</font>

                  daysaway <font color="#990000">=</font> <b><font color="#000000">date_to_days_away</font></b><font color="#990000">(</font>expiration_day<font color="#990000">,</font>expiration_month<font color="#990000">,</font>expiration_year<font color="#990000">);</font>

                  <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

                <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> 
                <font color="#FF0000">{</font>
                  <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>
                <font color="#FF0000">}</font>
              <font color="#FF0000">}</font>
            <font color="#FF0000">}</font>

            <font color="#009900">int</font> ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
            ret2 <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> expiration_day <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> decimaldateentered <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              row <font color="#990000">+=</font> <font color="#993399">2</font><font color="#990000">;</font>

              <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
              <font color="#FF0000">{</font>
                <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter expiration time HH:MM:SS           : "</font><font color="#990000">);</font>

                <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
                ret <font color="#990000">=</font> <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>

                <b><font color="#0000FF">if</font></b><font color="#990000">(</font>ret <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">)</font>
                <font color="#FF0000">{</font>
                  ret2 <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d:%d:%d"</font><font color="#990000">,&amp;</font>expiration_hour<font color="#990000">,&amp;</font>expiration_minute<font color="#990000">,&amp;</font>expiration_second<font color="#990000">);</font>
                <font color="#FF0000">}</font>

                <i><font color="#9A1900">/* if they just hit enter set the defaults for HH:MM:SS */</font></i>
                <i><font color="#9A1900">/*if( ret2 == 0 )</font></i>
<i><font color="#9A1900">                {</font></i>
<i><font color="#9A1900">                    expiration_hour = 23;</font></i>
<i><font color="#9A1900">                    expiration_minute = 59;</font></i>
<i><font color="#9A1900">                    expiration_second = 0;</font></i>
<i><font color="#9A1900">                      </font></i>
<i><font color="#9A1900">                    move(row,0); clrtoeol();</font></i>

<i><font color="#9A1900">                    break;</font></i>

<i><font color="#9A1900">                 }*/</font></i>

                <i><font color="#9A1900">/* User entered hour, minute, seconds */</font></i>
                <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret2 <font color="#990000">==</font> <font color="#993399">3</font> <font color="#990000">&amp;&amp;</font> expiration_hour <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> expiration_minute <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> expiration_second <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">)</font>
                <font color="#FF0000">{</font>
                  <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <b><font color="#000000">validate_time</font></b><font color="#990000">(</font>expiration_hour<font color="#990000">,</font>expiration_minute<font color="#990000">,</font>expiration_second<font color="#990000">)</font> <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">)</font>
                  <font color="#FF0000">{</font>
                    <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">-</font><font color="#993399">1</font><font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                    <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

                    <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                    <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

                    <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

                  <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
                  <font color="#FF0000">{</font>
                    <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>
                  <font color="#FF0000">}</font>
                <font color="#FF0000">}</font>

                <i><font color="#9A1900">/* User entered hour, minute, we will default seconds to zero  */</font></i>
                <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret2 <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">&amp;&amp;</font> expiration_hour <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> expiration_minute <font color="#990000">!=</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> expiration_second <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">)</font>
                <font color="#FF0000">{</font>
                      expiration_second <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

                      <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <b><font color="#000000">validate_time</font></b><font color="#990000">(</font>expiration_hour<font color="#990000">,</font>expiration_minute<font color="#990000">,</font>expiration_second<font color="#990000">)</font> <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">)</font>
                      <font color="#FF0000">{</font>
                        <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">-</font><font color="#993399">1</font><font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                        <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

                        <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                        <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

                        <b><font color="#0000FF">break</font></b><font color="#990000">;</font>

                      <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
                      <font color="#FF0000">{</font>
                        expiration_hour <font color="#990000">=</font> expiration_minute <font color="#990000">=</font> expiration_second <font color="#990000">=</font> <font color="#990000">-</font><font color="#993399">1</font><font color="#990000">;</font>
                        <b><font color="#0000FF">continue</font></b><font color="#990000">;</font>
                      <font color="#FF0000">}</font>
                <font color="#FF0000">}</font>
              <font color="#FF0000">}</font> <i><font color="#9A1900">/* for(;;) */</font></i>
            <font color="#FF0000">}</font> <i><font color="#9A1900">/* if( expiration_day != -1 ) */</font></i>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> decimaldateentered <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <font color="#009900">unsigned</font> <font color="#009900">int</font> expirationtimeseconds <font color="#990000">=</font> <font color="#990000">(</font><font color="#009900">unsigned</font> <font color="#009900">int</font><font color="#990000">)(</font>expiration_hour<font color="#990000">)*</font>
                <font color="#990000">(</font><font color="#009900">unsigned</font> <font color="#009900">int</font><font color="#990000">)</font><font color="#993399">60</font><font color="#990000">*(</font><font color="#009900">unsigned</font> <font color="#009900">int</font><font color="#990000">)</font><font color="#993399">60</font> <font color="#990000">+</font>
                <font color="#990000">(</font><font color="#009900">unsigned</font> <font color="#009900">int</font><font color="#990000">)(</font>expiration_minute<font color="#990000">*</font><font color="#993399">60</font><font color="#990000">)</font> <font color="#990000">+</font>        
                <font color="#990000">(</font><font color="#009900">unsigned</font> <font color="#009900">int</font><font color="#990000">)</font> expiration_second<font color="#990000">;</font>

              <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime2 <font color="#990000">&amp;&amp;</font> rollgeskewhaley_counter <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
              <font color="#FF0000">{</font>
                properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">]</font> <font color="#990000">=</font> <b><font color="#000000">adjust_to_current_time_and_expr</font></b><font color="#990000">(&amp;</font>daysaway<font color="#990000">,</font>expirationtimeseconds<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                <b><font color="#000000">move</font></b><font color="#990000">(</font>timecursesrow<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Time to %-17s(%s25=1/4 year)  : %.*f %.*f days %s"</font><font color="#990000">,</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime2des<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>lc<font color="#990000">-&gt;</font>mon_decimal_point<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>precision<font color="#990000">+</font><font color="#993399">2</font><font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">],((</font>properties<font color="#990000">-&gt;</font>precision<font color="#990000">&lt;=</font><font color="#993399">2</font><font color="#990000">)?</font><font color="#993399">2</font><font color="#990000">:</font>properties<font color="#990000">-&gt;</font>precision<font color="#990000">-</font><font color="#993399">4</font><font color="#990000">),(</font><font color="#993399">365</font><font color="#990000">*</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">]),</font><b><font color="#000000">decimal_date_to_real_date</font></b><font color="#990000">(</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">]));</font>

              <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
              <font color="#FF0000">{</font>
                properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font>rollgeskewhaley_counter<font color="#990000">]</font> <font color="#990000">=</font> <b><font color="#000000">adjust_to_current_time_and_expr</font></b><font color="#990000">(&amp;</font>daysaway<font color="#990000">,</font>expirationtimeseconds<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

                <b><font color="#000000">move</font></b><font color="#990000">(</font>timecursesrow<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Time to expiration    (%s25=1/4 year)     : %.*f %.*f days %s %02d %02d %02d:%02d"</font><font color="#990000">,</font> properties<font color="#990000">-&gt;</font>lc<font color="#990000">-&gt;</font>mon_decimal_point<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>precision<font color="#990000">+</font><font color="#993399">2</font><font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">],((</font>properties<font color="#990000">-&gt;</font>precision<font color="#990000">&lt;=</font><font color="#993399">2</font><font color="#990000">)?</font><font color="#993399">2</font><font color="#990000">:</font>properties<font color="#990000">-&gt;</font>precision<font color="#990000">-</font><font color="#993399">4</font><font color="#990000">),(</font><font color="#993399">365</font><font color="#990000">*</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>t<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]),</font>mon<font color="#990000">[</font>expiration_month<font color="#990000">-</font><font color="#993399">1</font><font color="#990000">],</font>expiration_day<font color="#990000">,</font>expiration_year<font color="#990000">+</font><font color="#993399">2000</font><font color="#990000">,</font>expiration_hour<font color="#990000">,</font>expiration_minute<font color="#990000">);</font>
              <font color="#FF0000">}</font>

              row <font color="#990000">-=</font> <font color="#993399">2</font><font color="#990000">;</font>
            <font color="#FF0000">}</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportTime2 <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> <font color="#990000">++</font>rollgeskewhaley_counter <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>

            decimaldateentered <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
          <font color="#FF0000">}</font>

        <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b>
        <font color="#FF0000">{</font>
          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>perpetual <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">)</font>
            properties<font color="#990000">-&gt;</font>decimalorcalendar <font color="#990000">=</font> CALENDAR<font color="#990000">;</font>
        <font color="#FF0000">}</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>supportVolatility <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>volatility <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
          <font color="#990000">++</font>row<font color="#990000">;</font>
          <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : "</font><font color="#990000">,</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>volatility<font color="#990000">);</font>
            <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

            <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
            <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>
            ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf"</font><font color="#990000">,&amp;</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>volatility<font color="#990000">);</font>

            <i><font color="#9A1900">/* do not let the user enter negative standard deviation */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>volatility <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>
          <font color="#FF0000">}</font>
        <font color="#FF0000">}</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseZ <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseZ <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
          <font color="#990000">++</font>row<font color="#990000">;</font>
          <font color="#009900">int</font> decimal <font color="#990000">=</font> <font color="#993399">2</font><font color="#990000">;</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseZ <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            decimal <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

          <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>

            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseZdes<font color="#990000">,</font>decimal<font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Zdefault<font color="#990000">);</font>

            <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">43</font><font color="#990000">);</font>

            <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
            <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseZ <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf"</font><font color="#990000">,&amp;</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseZ<font color="#990000">);</font>
            <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseZ <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <font color="#009900">int</font> i<font color="#990000">;</font>
              <i><font color="#9A1900">//ret = sscanf(inputstring,"%d",(int *)&amp;properties-&gt;data.UseZ);</font></i>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,&amp;</font>i<font color="#990000">);</font>
              <i><font color="#9A1900">//properties-&gt;data.UseZ = i;</font></i>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseZ <font color="#990000">=</font> <font color="#990000">(</font>i <font color="#990000">&lt;</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Zmax <font color="#990000">?</font> i <font color="#990000">:</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Zmax<font color="#990000">);</font>
            <font color="#FF0000">}</font>

            <i><font color="#9A1900">/* do not let the user enter negative standard deviation */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseZ <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
                ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
                <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseZdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseZ<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
                <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
                <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>
            <i><font color="#9A1900">/* allow the user to just hit enter and take the defaults */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseZ <font color="#990000">=</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Zdefault<font color="#990000">;</font>
              <i><font color="#9A1900">//printw("Enter %-31s    : %.2f",option_algorithms[properties-&gt;modeltype].UseZdes,properties-&gt;data.UseZ); clrtoeol();</font></i>
              <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseZdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseZ<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
              <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>
          <font color="#FF0000">}</font>
        <font color="#FF0000">}</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseB <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseB <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
          <font color="#990000">++</font>row<font color="#990000">;</font>
          <font color="#009900">int</font> decimal <font color="#990000">=</font> <font color="#993399">2</font><font color="#990000">;</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseB <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            decimal <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

          <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
            
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseBdes<font color="#990000">,</font>decimal<font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Bdefault<font color="#990000">);</font>

            <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">43</font><font color="#990000">);</font>

            <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
            <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseB <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf"</font><font color="#990000">,&amp;</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseB<font color="#990000">);</font>
            <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseB <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <font color="#009900">int</font> i<font color="#990000">;</font>
              <i><font color="#9A1900">//ret = sscanf(inputstring,"%d",(int *)&amp;properties-&gt;data.UseB);</font></i>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,&amp;</font>i<font color="#990000">);</font>
              <i><font color="#9A1900">//properties-&gt;data.UseB = i;</font></i>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseB <font color="#990000">=</font> <font color="#990000">(</font>i <font color="#990000">&lt;</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Bmax <font color="#990000">?</font> i <font color="#990000">:</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Bmax<font color="#990000">);</font>
            <font color="#FF0000">}</font>
            
            <i><font color="#9A1900">/* do not let the user enter negative standard deviation */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseB <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
                ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
                <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseBdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseB<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

                <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
                <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>
            <i><font color="#9A1900">/* allow the user to just hit enter and take the defaults */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseB <font color="#990000">=</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Bdefault<font color="#990000">;</font>
              <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseBdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseB<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

              <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>
          <font color="#FF0000">}</font>
        <font color="#FF0000">}</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseJ <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseJ <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
          <font color="#990000">++</font>row<font color="#990000">;</font>
          <font color="#009900">int</font> decimal <font color="#990000">=</font> <font color="#993399">2</font><font color="#990000">;</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseJ <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            decimal <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

          <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
            
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseJdes<font color="#990000">,</font>decimal<font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Jdefault<font color="#990000">);</font>

            <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">43</font><font color="#990000">);</font>

            <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
            <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseJ <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf"</font><font color="#990000">,&amp;</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseJ<font color="#990000">);</font>
            <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseJ <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <font color="#009900">int</font> i<font color="#990000">;</font>
              <i><font color="#9A1900">//ret = sscanf(inputstring,"%d",(int *)&amp;properties-&gt;data.UseJ);</font></i>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,&amp;</font>i<font color="#990000">);</font>
              <i><font color="#9A1900">//properties-&gt;data.UseJ = i;</font></i>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseJ <font color="#990000">=</font> <font color="#990000">(</font>i <font color="#990000">&lt;</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Jmax <font color="#990000">?</font> i <font color="#990000">:</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Jmax<font color="#990000">);</font>
            <font color="#FF0000">}</font>
            
            <i><font color="#9A1900">/* do not let the user enter negative standard deviation */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseJ <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
                ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
                <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseJdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseJ<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
                <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

                <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>

            <i><font color="#9A1900">/* allow the user to just hit enter and take the defaults */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseJ <font color="#990000">=</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Jdefault<font color="#990000">;</font>
              <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseJdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseJ<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
              <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>
          <font color="#FF0000">}</font>
        <font color="#FF0000">}</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseP <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseP <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
          <font color="#990000">++</font>row<font color="#990000">;</font>
          <font color="#009900">int</font> decimal <font color="#990000">=</font> <font color="#993399">2</font><font color="#990000">;</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseP <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            decimal <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

          <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
            
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UsePdes<font color="#990000">,</font>decimal<font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Pdefault<font color="#990000">);</font>

            <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">43</font><font color="#990000">);</font>

            <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
            <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseP <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf"</font><font color="#990000">,&amp;</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseP<font color="#990000">);</font>
            <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseP <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <font color="#009900">int</font> i<font color="#990000">;</font>
              <i><font color="#9A1900">//ret = sscanf(inputstring,"%d",(int *)&amp;properties-&gt;data.UseP);</font></i>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,&amp;</font>i<font color="#990000">);</font>
              <i><font color="#9A1900">//properties-&gt;data.UseP = i;</font></i>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseP <font color="#990000">=</font> <font color="#990000">(</font>i <font color="#990000">&lt;</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Pmax <font color="#990000">?</font> i <font color="#990000">:</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Pmax<font color="#990000">);</font>
            <font color="#FF0000">}</font>
            
            <i><font color="#9A1900">/* do not let the user enter negative standard deviation */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseP <font color="#990000">&gt;=</font> <font color="#993399">0</font>  <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
                ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
                <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UsePdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseP<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
                <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

                <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>

            <i><font color="#9A1900">/* allow the user to just hit enter and take the defaults */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseP <font color="#990000">=</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Pdefault<font color="#990000">;</font>
              <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UsePdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseP<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
              <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>
          <font color="#FF0000">}</font>
        <font color="#FF0000">}</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseQ <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseQ <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
          <font color="#990000">++</font>row<font color="#990000">;</font>
          <font color="#009900">int</font> decimal <font color="#990000">=</font> <font color="#993399">2</font><font color="#990000">;</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseQ <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            decimal <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

          <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
            
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseQdes<font color="#990000">,</font>decimal<font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Qdefault<font color="#990000">);</font>

            <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">43</font><font color="#990000">);</font>

            <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
            <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseQ <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf"</font><font color="#990000">,&amp;</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseQ<font color="#990000">);</font>
            <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseQ <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <font color="#009900">int</font> i<font color="#990000">;</font>
              <i><font color="#9A1900">//ret = sscanf(inputstring,"%d",(int *)&amp;properties-&gt;data.UseQ);</font></i>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,&amp;</font>i<font color="#990000">);</font>
              <i><font color="#9A1900">//properties-&gt;data.UseQ = i;</font></i>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseQ <font color="#990000">=</font> <font color="#990000">(</font>i <font color="#990000">&lt;</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Qmax <font color="#990000">?</font> i <font color="#990000">:</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Qmax<font color="#990000">);</font>
            <font color="#FF0000">}</font>
            
            <i><font color="#9A1900">/* do not let the user enter negative standard deviation */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseQ <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
                ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
                <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseQdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseQ<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
                <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

                <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>

            <i><font color="#9A1900">/* allow the user to just hit enter and take the defaults */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseQ <font color="#990000">=</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Qdefault<font color="#990000">;</font>
              <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseQdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseQ<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
              <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>
          <font color="#FF0000">}</font>
        <font color="#FF0000">}</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseR <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseR <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
          <font color="#990000">++</font>row<font color="#990000">;</font>
          <font color="#009900">int</font> decimal <font color="#990000">=</font> <font color="#993399">2</font><font color="#990000">;</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseR <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            decimal <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

          <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
            
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseRdes<font color="#990000">,</font>decimal<font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Rdefault<font color="#990000">);</font>

            <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">43</font><font color="#990000">);</font>

            <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
            <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseR <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf"</font><font color="#990000">,&amp;</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseR<font color="#990000">);</font>
            <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseR <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <font color="#009900">int</font> i<font color="#990000">;</font>
              <i><font color="#9A1900">//ret = sscanf(inputstring,"%d",(int *)&amp;properties-&gt;data.UseR);</font></i>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,&amp;</font>i<font color="#990000">);</font>
              <i><font color="#9A1900">//properties-&gt;data.UseR = i;</font></i>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseR <font color="#990000">=</font> <font color="#990000">(</font>i <font color="#990000">&lt;</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Rmax <font color="#990000">?</font> i <font color="#990000">:</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Rmax<font color="#990000">);</font>
            <font color="#FF0000">}</font>
            
            <i><font color="#9A1900">/* do not let the user enter negative standard deviation */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseR <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
                ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
                <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseRdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseR<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
                <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

                <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>

            <i><font color="#9A1900">/* allow the user to just hit enter and take the defaults */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseR <font color="#990000">=</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Rdefault<font color="#990000">;</font>
              <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseRdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseR<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
              <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>
          <font color="#FF0000">}</font>
        <font color="#FF0000">}</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseS <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseS <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
          <font color="#990000">++</font>row<font color="#990000">;</font>
          <font color="#009900">int</font> decimal <font color="#990000">=</font> <font color="#993399">2</font><font color="#990000">;</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseS <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            decimal <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

          <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
            
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseSdes<font color="#990000">,</font>decimal<font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Sdefault<font color="#990000">);</font>

            <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">43</font><font color="#990000">);</font>

            <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
            <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseS <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf"</font><font color="#990000">,&amp;</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseS<font color="#990000">);</font>
            <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseS <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <font color="#009900">int</font> i<font color="#990000">;</font>
              <i><font color="#9A1900">//ret = sscanf(inputstring,"%d",(int *)&amp;properties-&gt;data.UseS);</font></i>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,&amp;</font>i<font color="#990000">);</font>
              <i><font color="#9A1900">//properties-&gt;data.UseS = i;</font></i>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseS <font color="#990000">=</font> <font color="#990000">(</font>i <font color="#990000">&lt;</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Smax <font color="#990000">?</font> i <font color="#990000">:</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Smax<font color="#990000">);</font>
            <font color="#FF0000">}</font>
            
            <i><font color="#9A1900">/* do not let the user enter negative standard deviation */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseS <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
                ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
                <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseSdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseS<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
                <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

                <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>

            <i><font color="#9A1900">/* allow the user to just hit enter and take the defaults */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseS <font color="#990000">=</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Sdefault<font color="#990000">;</font>
              <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseSdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseS<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
              <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>
          <font color="#FF0000">}</font>
        <font color="#FF0000">}</font>

        <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseT <font color="#990000">)</font>
        <font color="#FF0000">{</font>
          properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseT <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
          <font color="#990000">++</font>row<font color="#990000">;</font>
          <font color="#009900">int</font> decimal <font color="#990000">=</font> <font color="#993399">2</font><font color="#990000">;</font>

          <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseT <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            decimal <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>

          <b><font color="#0000FF">for</font></b><font color="#990000">(;;)</font>
          <font color="#FF0000">{</font>
            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
            
            <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseTdes<font color="#990000">,</font>decimal<font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Tdefault<font color="#990000">);</font>

            <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>

            <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">43</font><font color="#990000">);</font>

            <b><font color="#000000">memset</font></b><font color="#990000">(</font>inputstring<font color="#990000">,(</font><font color="#009900">int</font><font color="#990000">)</font> <font color="#FF0000">' '</font><font color="#990000">,</font><b><font color="#0000FF">sizeof</font></b><font color="#990000">(</font>inputstring<font color="#990000">));</font>
            <b><font color="#000000">scanw</font></b><font color="#990000">(</font><font color="#FF0000">"%10s"</font><font color="#990000">,</font>inputstring<font color="#990000">);</font>

            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseT <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%lf"</font><font color="#990000">,&amp;</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseT<font color="#990000">);</font>
            <font color="#FF0000">}</font> <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b><font color="#990000">(</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>iUseT <font color="#990000">==</font> <font color="#993399">2</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <font color="#009900">int</font> i<font color="#990000">;</font>
              <i><font color="#9A1900">//ret = sscanf(inputstring,"%d",(int *)&amp;properties-&gt;data.UseT);</font></i>
              ret <font color="#990000">=</font> <b><font color="#000000">sscanf</font></b><font color="#990000">(</font>inputstring<font color="#990000">,</font><font color="#FF0000">"%d"</font><font color="#990000">,&amp;</font>i<font color="#990000">);</font>
              <i><font color="#9A1900">//properties-&gt;data.UseT = i;</font></i>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseT <font color="#990000">=</font> <font color="#990000">(</font>i <font color="#990000">&lt;</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Tmax <font color="#990000">?</font> i <font color="#990000">:</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Tmax<font color="#990000">);</font>
            <font color="#FF0000">}</font>
            
            <i><font color="#9A1900">/* do not let the user enter negative standard deviation */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseT <font color="#990000">&gt;=</font> <font color="#993399">0</font> <font color="#990000">&amp;&amp;</font> ret <font color="#990000">==</font> <font color="#993399">1</font> <font color="#990000">&amp;&amp;</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">!=</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
                ret <font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font>
                <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
                <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseTdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseT<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
                <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

                <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>

            <i><font color="#9A1900">/* allow the user to just hit enter and take the defaults */</font></i>
            <b><font color="#0000FF">if</font></b><font color="#990000">(</font> ret <font color="#990000">==</font> <font color="#990000">-</font><font color="#993399">1</font> <font color="#990000">||</font> ret <font color="#990000">==</font> <font color="#993399">0</font> <font color="#990000">||</font> inputstring<font color="#990000">[</font><font color="#993399">0</font><font color="#990000">]</font> <font color="#990000">==</font> <font color="#FF0000">' '</font> <font color="#990000">)</font>
            <font color="#FF0000">{</font>
              <b><font color="#000000">move</font></b><font color="#990000">(</font>row<font color="#990000">,</font><font color="#993399">0</font><font color="#990000">);</font>
              properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseT <font color="#990000">=</font> option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>Tdefault<font color="#990000">;</font>
              <b><font color="#000000">printw</font></b><font color="#990000">(</font><font color="#FF0000">"Enter %-31s    : %.*f"</font><font color="#990000">,</font>option_algorithms<font color="#990000">[</font>properties<font color="#990000">-&gt;</font>modeltype<font color="#990000">].</font>UseTdes<font color="#990000">,</font>decimal<font color="#990000">,</font>properties<font color="#990000">-&gt;</font>data<font color="#990000">.</font>UseT<font color="#990000">);</font> <b><font color="#000000">clrtoeol</font></b><font color="#990000">();</font>
              <b><font color="#000000">refresh</font></b><font color="#990000">();</font>
              <b><font color="#0000FF">break</font></b><font color="#990000">;</font>
            <font color="#FF0000">}</font>
          <font color="#FF0000">}</font>
        <font color="#FF0000">}</font>

        <b><font color="#000000">expires</font></b><font color="#990000">(</font>LEG1<font color="#990000">,</font><font color="#993399">30</font><font color="#990000">,</font>properties<font color="#990000">-&gt;</font>skipmonth<font color="#990000">,</font>future_properties<font color="#990000">);</font>
        <b><font color="#000000">expires</font></b><font color="#990000">(</font>LEG1<font color="#990000">,</font><font color="#993399">30</font><font color="#990000">,</font>properties<font color="#990000">-&gt;</font>skipmonth<font color="#990000">,</font>properties<font color="#990000">);</font>

        <b><font color="#000000">usleep</font></b><font color="#990000">(</font><font color="#993399">100000</font><font color="#990000">);</font>

        <b><font color="#000000">clear</font></b><font color="#990000">();</font>
        <b><font color="#000000">refresh</font></b><font color="#990000">();</font>

        <b><font color="#0000FF">return</font></b> <font color="#993399">0</font><font color="#990000">;</font>
<font color="#FF0000">}</font>
</tt></pre>
